<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>dracut</title><link rel="stylesheet" type="text/css" href="http://docs.redhat.com/docs/en-US/Common_Content/css/default.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.77.1" /><style type="text/css">
body { background-image: url('images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style></head><body><div xml:lang="en" class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="id385639"></a>dracut</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Harald</span> <span class="surname">Hoyer</span></h3><code class="email">&lt;<a class="email" href="mailto:harald@redhat.com">harald@redhat.com</a>&gt;</code></div></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="Revision History"><tr><th align="left" valign="top" colspan="3"><strong>Revision History</strong></th></tr><tr><td align="left">Revision 2.0</td><td align="left">March 2011</td><td align="left">HH</td></tr></table></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="preface"><a href="#id392648"></a></span></dt><dt><span class="part"><a href="#_introduction">I. Introduction</a></span></dt><dd><dl><dt><span class="chapter"><a href="#_definition">1. Definition</a></span></dt><dt><span class="chapter"><a href="#_rationale">2. Rationale</a></span></dt><dt><span class="chapter"><a href="#_implementation">3. Implementation</a></span></dt><dt><span class="chapter"><a href="#_mount_preparations">4. Mount preparations</a></span></dt></dl></dd><dt><span class="part"><a href="#_user_manual">II. User Manual</a></span></dt><dd><dl><dt><span class="chapter"><a href="#_creating_an_initramfs_image">5. Creating an initramfs Image</a></span></dt><dd><dl><dt><span class="section"><a href="#_inspecting_the_contents">Inspecting the Contents</a></span></dt><dt><span class="section"><a href="#_adding_dracut_modules">Adding dracut Modules</a></span></dt><dt><span class="section"><a href="#_omitting_dracut_modules">Omitting dracut Modules</a></span></dt><dt><span class="section"><a href="#_adding_kernel_modules">Adding Kernel Modules</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_boot_parameters">6. Boot parameters</a></span></dt><dd><dl><dt><span class="section"><a href="#_specifying_the_root_device">Specifying the root Device</a></span></dt><dt><span class="section"><a href="#_keyboard_settings">Keyboard Settings</a></span></dt><dt><span class="section"><a href="#_blacklisting_kernel_modules">Blacklisting Kernel Modules</a></span></dt><dt><span class="section"><a href="#_speeding_up_the_boot_process">Speeding up the Boot Process</a></span></dt><dt><span class="section"><a href="#Injecting">Injecting custom Files</a></span></dt></dl></dd><dt><span class="chapter"><a href="#NetworkBoot">7. Network Boot</a></span></dt><dd><dl><dt><span class="section"><a href="#_reducing_the_image_size">Reducing the Image Size</a></span></dt><dt><span class="section"><a href="#_nfs_root_device">NFS Root Device</a></span></dt><dt><span class="section"><a href="#_iscsi_root_device">iSCSI Root Device</a></span></dt><dt><span class="section"><a href="#_fcoe_root_device">FCoE Root Device</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_troubleshooting">8. Troubleshooting</a></span></dt><dd><dl><dt><span class="section"><a href="#identifying-your-problem-area">Identifying your problem area</a></span></dt><dt><span class="section"><a href="#information-to-include-in-your-report">Information to include in your report</a></span></dt><dd><dl><dt><span class="section"><a href="#all-bug-reports">All bug reports</a></span></dt><dt><span class="section"><a href="#logical-volume-management-related-problems">Logical Volume Management related problems</a></span></dt><dt><span class="section"><a href="#software-raid-related-problems">Software RAID related problems</a></span></dt><dt><span class="section"><a href="#network-root-device-related-problems">Network root device related problems</a></span></dt></dl></dd><dt><span class="section"><a href="#debugging-dracut">Debugging dracut</a></span></dt><dd><dl><dt><span class="section"><a href="#configure-a-serial-console">Configure a serial console</a></span></dt><dt><span class="section"><a href="#using-the-dracut-shell">Using the dracut shell</a></span></dt><dt><span class="section"><a href="#accessing-the-root-volume-from-the-dracut-shell">Accessing the root volume from the dracut shell</a></span></dt><dt><span class="section"><a href="#additional-dracut-boot-parameters">Additional dracut boot parameters</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="part"><a href="#_developer_manual">III. Developer Manual</a></span></dt><dd><dl><dt><span class="chapter"><a href="#_dracut_components">9. dracut Components</a></span></dt><dt><span class="chapter"><a href="#stages">10. Boot Process Stages</a></span></dt><dd><dl><dt><span class="section"><a href="#_basic_setup">Basic Setup</a></span></dt><dt><span class="section"><a href="#_hook_cmdline">Hook: cmdline</a></span></dt><dt><span class="section"><a href="#_hook_pre_udev">Hook: pre-udev</a></span></dt><dt><span class="section"><a href="#_start_udev">Start Udev</a></span></dt><dt><span class="section"><a href="#_hook_pre_trigger">Hook: pre-trigger</a></span></dt><dt><span class="section"><a href="#_trigger_udev">Trigger Udev</a></span></dt><dt><span class="section"><a href="#_main_loop">Main Loop</a></span></dt><dd><dl><dt><span class="section"><a href="#_initqueue">Initqueue</a></span></dt><dt><span class="section"><a href="#_initqueue_settled">Initqueue settled</a></span></dt><dt><span class="section"><a href="#_initqueue_timeout">Initqueue timeout</a></span></dt><dt><span class="section"><a href="#_initqueue_finished">Initqueue finished</a></span></dt></dl></dd><dt><span class="section"><a href="#_hook_pre_mount">Hook: pre-mount</a></span></dt><dt><span class="section"><a href="#_hook_mount">Hook: mount</a></span></dt><dt><span class="section"><a href="#_hook_pre_pivot">Hook: pre-pivot</a></span></dt><dt><span class="section"><a href="#_hook_cleanup">Hook: cleanup</a></span></dt><dt><span class="section"><a href="#_cleanup_and_switch_root">Cleanup and switch_root</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_network_infrastructure">11. Network Infrastructure</a></span></dt><dt><span class="chapter"><a href="#_writing_a_module">12. Writing a Module</a></span></dt><dd><dl><dt><span class="section"><a href="#_check">check()</a></span></dt><dt><span class="section"><a href="#_depends">depends()</a></span></dt><dt><span class="section"><a href="#_install">install()</a></span></dt><dt><span class="section"><a href="#_installkernel">installkernel()</a></span></dt><dt><span class="section"><a href="#_creation_functions">Creation Functions</a></span></dt><dt><span class="section"><a href="#_initramfs_functions">Initramfs Functions</a></span></dt><dt><span class="section"><a href="#_network_modules">Network Modules</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="#dracut8">IV. DRACUT(8)</a></span></dt><dd><dl><dt><span class="chapter"><a href="#_name">13. NAME</a></span></dt><dt><span class="chapter"><a href="#_synopsis">14. SYNOPSIS</a></span></dt><dt><span class="chapter"><a href="#_description">15. DESCRIPTION</a></span></dt><dt><span class="chapter"><a href="#_options">16. OPTIONS</a></span></dt><dt><span class="chapter"><a href="#_files">17. FILES</a></span></dt><dd><dl><dt><span class="section"><a href="#_configuration_in_the_initramfs">Configuration in the initramfs</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_availability">18. AVAILABILITY</a></span></dt><dt><span class="chapter"><a href="#_authors">19. AUTHORS</a></span></dt><dt><span class="chapter"><a href="#_see_also">20. SEE ALSO</a></span></dt></dl></dd><dt><span class="part"><a href="#dracutconf5">V. DRACUT.CONF(5)</a></span></dt><dd><dl><dt><span class="chapter"><a href="#_name_2">21. NAME</a></span></dt><dt><span class="chapter"><a href="#_synopsis_2">22. SYNOPSIS</a></span></dt><dt><span class="chapter"><a href="#_description_2">23. Description</a></span></dt><dt><span class="chapter"><a href="#_files_2">24. Files</a></span></dt><dt><span class="chapter"><a href="#_author">25. AUTHOR</a></span></dt><dt><span class="chapter"><a href="#_see_also_2">26. See Also</a></span></dt></dl></dd><dt><span class="part"><a href="#dracutcmdline7">VI. DRACUT.CMDLINE(7)</a></span></dt><dd><dl><dt><span class="chapter"><a href="#_name_3">27. NAME</a></span></dt><dt><span class="chapter"><a href="#_description_3">28. DESCRIPTION</a></span></dt><dd><dl><dt><span class="section"><a href="#_standard">Standard</a></span></dt><dt><span class="section"><a href="#_misc">Misc</a></span></dt><dt><span class="section"><a href="#dracutkerneldebug">Debug</a></span></dt><dt><span class="section"><a href="#_i18n">I18N</a></span></dt><dt><span class="section"><a href="#_lvm">LVM</a></span></dt><dt><span class="section"><a href="#_crypto_luks">crypto LUKS</a></span></dt><dt><span class="section"><a href="#_crypto_luks_key_on_removable_device_support">crypto LUKS - key on removable device support</a></span></dt><dt><span class="section"><a href="#_md_raid">MD RAID</a></span></dt><dt><span class="section"><a href="#_dm_raid">DM RAID</a></span></dt><dt><span class="section"><a href="#_fips">FIPS</a></span></dt><dt><span class="section"><a href="#_network">Network</a></span></dt><dt><span class="section"><a href="#_nfs">NFS</a></span></dt><dt><span class="section"><a href="#_iscsi">iSCSI</a></span></dt><dt><span class="section"><a href="#_fcoe">FCoE</a></span></dt><dt><span class="section"><a href="#_nbd">NBD</a></span></dt><dt><span class="section"><a href="#_dasd">DASD</a></span></dt><dt><span class="section"><a href="#_zfcp">ZFCP</a></span></dt><dt><span class="section"><a href="#_znet">ZNET</a></span></dt><dt><span class="section"><a href="#_plymouth_boot_splash">Plymouth Boot Splash</a></span></dt><dt><span class="section"><a href="#_kernel_keys">Kernel keys</a></span></dt><dt><span class="section"><a href="#_deprecated_renamed_options">Deprecated, renamed Options</a></span></dt><dt><span class="section"><a href="#_configuration_in_the_initramfs_2">Configuration in the Initramfs</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_author_2">29. AUTHOR</a></span></dt><dt><span class="chapter"><a href="#_see_also_3">30. SEE ALSO</a></span></dt><dt><span class="appendix"><a href="#_license">A. License</a></span></dt></dl></dd></dl></div><div class="preface"><div class="titlepage"><div><div><h1 class="title"><a id="id392648"></a></h1></div></div></div></div><div class="part"><div class="titlepage"><div><div><h1 class="title"><a id="_introduction"></a>Part I. Introduction</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="chapter"><a href="#_definition">1. Definition</a></span></dt><dt><span class="chapter"><a href="#_rationale">2. Rationale</a></span></dt><dt><span class="chapter"><a href="#_implementation">3. Implementation</a></span></dt><dt><span class="chapter"><a href="#_mount_preparations">4. Mount preparations</a></span></dt></dl></div><p>This section is a modified version of
<a class="ulink" href="http://en.wikipedia.org/wiki/Initrd" target="_top">http://en.wikipedia.org/wiki/Initrd</a> which is licensed under the
Creative Commons Attribution/Share-Alike License.</p><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_definition"></a>Chapter 1. Definition</h2></div></div></div><p>An <span class="emphasis"><em>initial ramdisk</em></span> is a temporary file system used in the boot process of the
Linux kernel. <span class="emphasis"><em>initrd</em></span> and <span class="emphasis"><em>initramfs</em></span> refer to slightly different schemes for
loading this file system into memory. Both are commonly used to make
preparations before the real root file system can be mounted.</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_rationale"></a>Chapter 2. Rationale</h2></div></div></div><p>Many Linux distributions ship a single, generic kernel image that is intended to
boot as wide a variety of hardware as possible. The device drivers for this
generic kernel image are included as loadable modules, as it is not possible to
statically compile them all into the one kernel without making it too large to
boot from computers with limited memory or from lower-capacity media like floppy
disks.</p><p>This then raises the problem of detecting and loading the modules necessary to
mount the root file system at boot time (or, for that matter, deducing where or
what the root file system is).</p><p>To further complicate matters, the root file system may be on a software RAID
volume, LVM, NFS (on diskless workstations), or on an encrypted partition. All
of these require special preparations to mount.</p><p>Another complication is kernel support for hibernation, which suspends the
computer to disk by dumping an image of the entire system to a swap partition or
a regular file, then powering off. On next boot, this image has to be made
accessible before it can be loaded back into memory.</p><p>To avoid having to hardcode handling for so many special cases into the kernel,
an initial boot stage with a temporary root file system
—now dubbed early user space— is used.  This root file system would contain
user-space helpers that would do the hardware detection, module loading and
device discovery necessary to get the real root file system mounted.</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_implementation"></a>Chapter 3. Implementation</h2></div></div></div><p>An image of this initial root file system (along with the kernel image) must be
stored somewhere accessible by the Linux bootloader or the boot firmware of the
computer. This can be:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The root file system itself
</li><li class="listitem">
A boot image on an optical disc
</li><li class="listitem">
A small ext2/ext3 or FAT-formatted partition on a local disk
  (a <span class="emphasis"><em>boot partition</em></span>)
</li><li class="listitem">
A TFTP server (on systems that can boot from Ethernet)
</li></ul></div><p>The bootloader will load the kernel and initial root file system image into
memory and then start the kernel, passing in the memory address of the image.</p><p>Depending on which algorithms were compiled statically into it, the kernel can
currently unpack initrd/initramfs images compressed with gzip, bzip2 and LZMA.</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_mount_preparations"></a>Chapter 4. Mount preparations</h2></div></div></div><p>dracut can generate a customized initrams image which contains only whatever is
necessary to boot some particular computer, such as ATA, SCSI and filesystem
kernel modules (host-only mode).</p><p>dracut can also generate a more generic initramfs image (default mode).</p><p>dracut’s initramfs starts only with the device name of the root file system (or
its UUID) and must discover everything else at boot time. A complex cascade of
tasks must be performed to get the root file system mounted:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Any hardware drivers that the boot process depends on must be loaded. All
kernel modules for common storage devices are packed onto the initramfs and then
udev pulls in modules matching the computer’s detected hardware.
</li><li class="listitem">
On systems which display a boot rd.splash screen, the video hardware must be
initialized and a user-space helper started to paint animations onto the display
in lockstep with the boot process.
</li><li class="listitem"><p class="simpara">
If the root file system is on NFS, dracut does  then:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Bring up the primary network interface.
</li><li class="listitem">
Invoke a DHCP client, with which it can obtain a DHCP lease.
</li><li class="listitem">
Extract the name of the NFS share and the address of the NFS server from the
lease.
</li><li class="listitem">
Mount the NFS share.
</li></ul></div></li><li class="listitem">
If the root file system appears to be on a software RAID device, there is no
way of knowing which devices the RAID volume spans; the standard MD utilities
must be invoked to scan all available block devices with a raid signature and
bring the required ones online.
</li><li class="listitem">
If the root file system appears to be on a logical volume, the LVM utilities
must be invoked to scan for and activate the volume group containing it.
</li><li class="listitem"><p class="simpara">
If the root file system is on an encrypted block device:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Invoke a helper script to prompt the user to type in a passphrase and/or
insert a hardware token (such as a smart card or a USB security dongle).
</li></ul></div></li><li class="listitem">
Create a decryption target with the device mapper.
</li></ul></div><p>dracut uses udev, an event-driven hotplug agent, which invokes helper programs
as hardware devices, disk partitions and storage volumes matching certain rules
come online. This allows discovery to run in parallel, and to progressively
cascade into arbitrary nestings of LVM, RAID or encryption to get at the root
file system.</p><p>When the root file system finally becomes visible:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Any maintenance tasks which cannot run on a mounted root file system
are done.
</li><li class="listitem">
The root file system is mounted read-only.
</li><li class="listitem">
Any processes which must continue running (such as the rd.splash screen helper
and its command FIFO) are hoisted into the newly-mounted root file system.
</li></ul></div><p>The final root file system cannot simply be mounted over /, since that would
make the scripts and tools on the initial root file system inaccessible for any
final cleanup tasks. On an initramfs, the initial root file system cannot be
rotated away. Instead, it is simply emptied and the final root file system
mounted over the top.</p></div></div><div class="part"><div class="titlepage"><div><div><h1 class="title"><a id="_user_manual"></a>Part II. User Manual</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="chapter"><a href="#_creating_an_initramfs_image">5. Creating an initramfs Image</a></span></dt><dd><dl><dt><span class="section"><a href="#_inspecting_the_contents">Inspecting the Contents</a></span></dt><dt><span class="section"><a href="#_adding_dracut_modules">Adding dracut Modules</a></span></dt><dt><span class="section"><a href="#_omitting_dracut_modules">Omitting dracut Modules</a></span></dt><dt><span class="section"><a href="#_adding_kernel_modules">Adding Kernel Modules</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_boot_parameters">6. Boot parameters</a></span></dt><dd><dl><dt><span class="section"><a href="#_specifying_the_root_device">Specifying the root Device</a></span></dt><dt><span class="section"><a href="#_keyboard_settings">Keyboard Settings</a></span></dt><dt><span class="section"><a href="#_blacklisting_kernel_modules">Blacklisting Kernel Modules</a></span></dt><dt><span class="section"><a href="#_speeding_up_the_boot_process">Speeding up the Boot Process</a></span></dt><dt><span class="section"><a href="#Injecting">Injecting custom Files</a></span></dt></dl></dd><dt><span class="chapter"><a href="#NetworkBoot">7. Network Boot</a></span></dt><dd><dl><dt><span class="section"><a href="#_reducing_the_image_size">Reducing the Image Size</a></span></dt><dt><span class="section"><a href="#_nfs_root_device">NFS Root Device</a></span></dt><dt><span class="section"><a href="#_iscsi_root_device">iSCSI Root Device</a></span></dt><dt><span class="section"><a href="#_fcoe_root_device">FCoE Root Device</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_troubleshooting">8. Troubleshooting</a></span></dt><dd><dl><dt><span class="section"><a href="#identifying-your-problem-area">Identifying your problem area</a></span></dt><dt><span class="section"><a href="#information-to-include-in-your-report">Information to include in your report</a></span></dt><dd><dl><dt><span class="section"><a href="#all-bug-reports">All bug reports</a></span></dt><dt><span class="section"><a href="#logical-volume-management-related-problems">Logical Volume Management related problems</a></span></dt><dt><span class="section"><a href="#software-raid-related-problems">Software RAID related problems</a></span></dt><dt><span class="section"><a href="#network-root-device-related-problems">Network root device related problems</a></span></dt></dl></dd><dt><span class="section"><a href="#debugging-dracut">Debugging dracut</a></span></dt><dd><dl><dt><span class="section"><a href="#configure-a-serial-console">Configure a serial console</a></span></dt><dt><span class="section"><a href="#using-the-dracut-shell">Using the dracut shell</a></span></dt><dt><span class="section"><a href="#accessing-the-root-volume-from-the-dracut-shell">Accessing the root volume from the dracut shell</a></span></dt><dt><span class="section"><a href="#additional-dracut-boot-parameters">Additional dracut boot parameters</a></span></dt></dl></dd></dl></dd></dl></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_creating_an_initramfs_image"></a>Chapter 5. Creating an initramfs Image</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_inspecting_the_contents">Inspecting the Contents</a></span></dt><dt><span class="section"><a href="#_adding_dracut_modules">Adding dracut Modules</a></span></dt><dt><span class="section"><a href="#_omitting_dracut_modules">Omitting dracut Modules</a></span></dt><dt><span class="section"><a href="#_adding_kernel_modules">Adding Kernel Modules</a></span></dt></dl></div><p>To create a initramfs image, the most simple command is:</p><pre class="screen"># dracut</pre><p>This will generate a general purpose initramfs image, with all possible
functionality resulting of the combination of the installed dracut modules and
system tools. The image is /boot/initramfs-<span class="emphasis"><em><code class="literal">&lt;kernel version&gt;</code></em></span>.img and
contains the kernel modules of the currently active kernel with version
<span class="emphasis"><em><code class="literal">&lt;kernel version&gt;</code></em></span>.</p><p>If the initramfs image already exists, dracut will display an error message, and
to overwrite the existing image, you have to use the --force option.</p><pre class="screen"># dracut --force</pre><p>If you want to specify another filename for the resulting image you would issue
a command like:</p><pre class="screen"># dracut foobar.img</pre><p>To generate an image for a specific kernel version, the command would be:</p><pre class="screen"># dracut foobar.img 2.6.40-1.rc5.f20</pre><p>A shortcut to generate the image at the default location for a specific kernel
version is:</p><pre class="screen"># dracut '' 2.6.40-1.rc5.f20</pre><p>If you want to create lighter, smaller initramfs images, you may want to specify
the --host-only or -H option. Using this option, the resulting image will
contain only those dracut modules, kernel modules and filesystems, which are
needed to boot this specific machine. This has the drawback, that you can’t put
the disk on another controller or machine, and that you can’t switch to another
root filesystem, without recreating the initramfs image. The usage of the
--host-only option is only for experts and you will have to keep the broken
pieces. At least keep a copy of a general purpose image (and corresponding
kernel) as a fallback to rescue your system.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_inspecting_the_contents"></a>Inspecting the Contents</h2></div></div></div><p>To see the contents of the image created by dracut, you can use the lsinitrd tool.</p><pre class="screen"># lsinitrd /boot/initramfs-$(uname -r).img | less</pre><p>To display the contents of a file in the initramfs also use the lsinitrd tool:</p><pre class="screen"># lsinitrd /boot/initramfs-$(uname -r).img  /etc/ld.so.conf
include ld.so.conf.d/*.conf</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_adding_dracut_modules"></a>Adding dracut Modules</h2></div></div></div><p>Some dracut modules are turned off by default and have to be activated manually.
You can do this by adding the dracut modules to the configuration file
<span class="emphasis"><em>/etc/dracut.conf</em></span> or <span class="emphasis"><em>/etc/dracut.conf.d/myconf.conf</em></span>. See <a class="xref" href="#dracutconf5" title="Part V. DRACUT.CONF(5)">Part V, “DRACUT.CONF(5)”</a>.
You can also add dracut modules on the command line
by using the -a or --add option:</p><pre class="screen"># dracut --add bootchart initramfs-bootchart.img</pre><p>To see a list of available dracut modules, use the --list-modules option:</p><pre class="screen"># dracut --list-modules</pre><p>or, if you have a dracut version earlier than <code class="literal">008</code>, issue the command:</p><pre class="screen"># for mod in /usr/lib/dracut/modules.d/*; do echo ${mod##*/??}; done</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_omitting_dracut_modules"></a>Omitting dracut Modules</h2></div></div></div><p>Sometimes you don’t want a dracut module to be included for reasons of speed,
size or functionality. To do this, either specify the omit_dracutmodules
variable in the <span class="emphasis"><em>dracut.conf</em></span> or <span class="emphasis"><em>/etc/dracut.conf.d/myconf.conf</em></span> configuration
file (see <a class="xref" href="#dracutconf5" title="Part V. DRACUT.CONF(5)">Part V, “DRACUT.CONF(5)”</a>), or use the -o or --omit option
on the command line:</p><pre class="screen"># dracut -o "multipath lvm" no-multipath-lvm.img</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_adding_kernel_modules"></a>Adding Kernel Modules</h2></div></div></div><p>If you need a special kernel module in the initramfs, which is not
automatically picked up by dracut, you have the use the --add-drivers option
on the command line or  the drivers vaiable in  the <span class="emphasis"><em>/etc/dracut.conf</em></span>
or <span class="emphasis"><em>/etc/dracut.conf.d/myconf.conf</em></span> configuration file (see <a class="xref" href="#dracutconf5" title="Part V. DRACUT.CONF(5)">Part V, “DRACUT.CONF(5)”</a>):</p><pre class="screen"># dracut --add-drivers mymod initramfs-with-mymod.img</pre></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_boot_parameters"></a>Chapter 6. Boot parameters</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_specifying_the_root_device">Specifying the root Device</a></span></dt><dt><span class="section"><a href="#_keyboard_settings">Keyboard Settings</a></span></dt><dt><span class="section"><a href="#_blacklisting_kernel_modules">Blacklisting Kernel Modules</a></span></dt><dt><span class="section"><a href="#_speeding_up_the_boot_process">Speeding up the Boot Process</a></span></dt><dt><span class="section"><a href="#Injecting">Injecting custom Files</a></span></dt></dl></div><p>The generated initramfs.img file normally does not contain any system
configuration files (except for some special exceptions), so the configuration
has to be done on the kernel command line. With this flexibility, you can easily
boot from a changed root partition, without the need to recompile the initramfs
image. So, you could completly change your root partition (move it inside a md
raid with encryption and LVM on top), as long as you specify the correct
filesystem LABEL or UUID on the kernel command line for your root device, dracut
will find it and boot from it.</p><p>The kernel command line usually can be configured in <span class="emphasis"><em>/boot/grub/grub.conf</em></span>, if
grub is your bootloader and it also can be edited in the real boot process in
the grub menu.</p><p>The kernel command line can also be provided by the dhcp server with the
root-path option. See <a class="xref" href="#NetworkBoot" title="Chapter 7. Network Boot">Chapter 7, <em>Network Boot</em></a>.</p><p>For a full reference of all kernel command line parameters, see <a class="xref" href="#dracut8" title="Part IV. DRACUT(8)">Part IV, “DRACUT(8)”</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_specifying_the_root_device"></a>Specifying the root Device</h2></div></div></div><p>This is the only option dracut really needs to boot from your root partition.
Because your root partition can live in various environments, there are a lot of
formats for the root= option. The most basic one is root=<span class="emphasis"><em><code class="literal">&lt;path to device
node&gt;</code></em></span>:</p><pre class="screen">root=/dev/sda2</pre><p>Because device node names can change, dependent on the drive ordering, you are
encouraged to use the filesystem identifier (UUID) or filesystem label (LABEL)
to specify your root partition:</p><pre class="screen">root=UUID=19e9dda3-5a38-484d-a9b0-fa6b067d0331</pre><p>or</p><pre class="screen">root=LABEL=myrootpartitionlabel</pre><p>To see all UUIDs or LABELs on your system, do:</p><pre class="screen"># ls -l /dev/disk/by-uuid</pre><p>or</p><pre class="screen"># ls -l /dev/disk/by-label</pre><p>If your root partition is on the network see <a class="xref" href="#NetworkBoot" title="Chapter 7. Network Boot">Chapter 7, <em>Network Boot</em></a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_keyboard_settings"></a>Keyboard Settings</h2></div></div></div><p>If you have to input passwords for encrypted disk volumes, you might want to set
the keyboard layout and specify a display font.</p><p>A typical german kernel command would contain:</p><pre class="screen">vconsole.font=latarcyrheb-sun16 vconsole.keymap=de-latin1-nodeadkeys locale.LANG=de_DE.UTF-8</pre><p>Setting these options can override the setting stored on your system, if you use
a modern init system, like systemd.</p><p>For dracut versions prior to version <code class="literal">008</code> the line would look like:</p><pre class="screen">LANG=de_DE.UTF-8 SYSFONT=latarcyrheb-sun16 KEYBOARDTYPE=pc KEYTABLE=de-latin1-nodeadkeys</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_blacklisting_kernel_modules"></a>Blacklisting Kernel Modules</h2></div></div></div><p>Sometimes it is required to prevent the automatic kernel module loading of a
specific kernel module. To do this, just add rd.blacklist=<span class="emphasis"><em><code class="literal">&lt;kernel module
name&gt;</code></em></span>, with <span class="emphasis"><em><code class="literal">&lt;kernel module name&gt;</code></em></span> not containing the <span class="emphasis"><em>.ko</em></span>
suffix, to the kernel command line. For example:</p><pre class="screen">rd.driver.blacklist=mptsas rd.driver.blacklist=nouveau</pre><p>The option can be specified multiple times on the kernel command line.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_speeding_up_the_boot_process"></a>Speeding up the Boot Process</h2></div></div></div><p>If you want to speed up the boot process, you can specify as much information
for dracut on the kernel command as possible. For example, you can tell dracut,
that you root partition is not on a LVM volume or not on a raid partition, or
that it lives inside a specific crypto LUKS encrypted volume. By default, dracut
searches everywhere. A typical dracut kernel command line for a plain primary or
logical partition would contain:</p><pre class="screen">rd.luks=0 rd.lvm=0 rd.md=0 rd.dm=0</pre><p>On systems with dracut version prior to <code class="literal">008</code> the line would look like:</p><pre class="screen">rd_NO_LUKS rd_NO_LVM rd_NO_MD rd_NO_DM</pre><p>This turns off every automatic assembly of LVM, MD raids, DM raids and crypto LUKS.</p><p>Of course, you could also omit the dracut modules in the initramfs creation
process, but then you would lose the posibility to turn it on on demand.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Injecting"></a>Injecting custom Files</h2></div></div></div><p>To add your own files to the initramfs image, you have several possibilities.</p><p>The --include option let you specify a source path and a target path. For example</p><pre class="screen"># dracut --include cmdline-preset /etc/cmdline initramfs-cmdline-pre.img</pre><p>will create an initramfs image, where the file cmdline-preset will be copied
inside the initramfs to <span class="emphasis"><em>/etc/cmdline</em></span>. --include can only be specified once.</p><pre class="screen"># mkdir rd.live.overlay
# mkdir rd.live.overlay/etc
# mkdir rd.live.overlay/etc/conf.d
# echo "ip=auto" &gt;&gt; rd.live.overlay/etc/cmdline
# echo export TESTVAR=testtest &gt;&gt; rd.live.overlay/etc/conf.d/testvar.conf
# echo export TESTVAR=testtest &gt;&gt; rd.live.overlay/etc/conf.d/testvar.conf
# tree rd.live.overlay/
rd.live.overlay/
└── etc
    ├── cmdline
    └── conf.d
        └── testvar.conf
# dracut --include rd.live.overlay / initramfs-rd.live.overlay.img</pre><p>This will put the contents of the rd.live.overlay directory into the root of the
initramfs image.</p><p>The --install option let you specify several files, which will get installed in
the initramfs image at the same location, as they are present on initramfs
creation time.</p><pre class="screen"># dracut --install 'strace fsck.ext3 ssh' initramfs-dbg.img</pre><p>This will create an initramfs with the strace, fsck.ext3 and ssh executables,
together with the libraries needed to start those. The --install option can be
specified multiple times.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="NetworkBoot"></a>Chapter 7. Network Boot</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_reducing_the_image_size">Reducing the Image Size</a></span></dt><dt><span class="section"><a href="#_nfs_root_device">NFS Root Device</a></span></dt><dt><span class="section"><a href="#_iscsi_root_device">iSCSI Root Device</a></span></dt><dt><span class="section"><a href="#_fcoe_root_device">FCoE Root Device</a></span></dt></dl></div><p>If your root partition is on a network drive, you have to have the network
dracut modules installed to create a network aware initramfs image.</p><p>On a Red Hat Enterprise Linux or Fedora system, this means, you have to install
the <span class="emphasis"><em>dracut-network</em></span> rpm package:</p><pre class="screen"># yum install dracut-network</pre><p>The resulting initramfs image can be served by a boot manager residing on your
local hard drive or it can be served by a PXE/TFTP server.</p><p>How to setup your PXE/TFTP server can be found in the
<a class="ulink" href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Storage_Administration_Guide/" target="_top">Red
Hat Enterprise Linux Storage Administration Guide</a>.</p><p>If you specify rd.ip=auto on the kernel command line, then dracut asks a dhcp
server about the ip adress for the machine. The dhcp server can also serve an
additional root-path, which will set the root device for dracut. With this
mechanism, you have static configuration on your client machine and a
centralized boot configuration on your TFTP/DHCP server. If you can’t pass a
kernel command line, then you can inject <span class="emphasis"><em>/etc/cmdline</em></span>, with a method described
in <a class="xref" href="#Injecting" title="Injecting custom Files">the section called “Injecting custom Files”</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_reducing_the_image_size"></a>Reducing the Image Size</h2></div></div></div><p>To reduce the size of the initramfs, you should create it with by ommitting all
dracut modules, which you know, you don’t need to boot the machine.</p><p>You can also specify the exact dracut and kernel modules to produce a very tiny
initramfs image.</p><p>For example for a NFS image, you would do:</p><pre class="screen"># dracut -m "nfs network  base" initramfs-nfs-only.img</pre><p>Then you would boot from this image with your target machine and reduce the size
once more by creating it on the target machine with the --host-only option:</p><pre class="screen"># dracut -m "nfs network base" --host-only initramfs-nfs-host-only.img</pre><p>This will reduce the size of the initramfs image significantly.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_nfs_root_device"></a>NFS Root Device</h2></div></div></div><p>FIXME</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_iscsi_root_device"></a>iSCSI Root Device</h2></div></div></div><p>FIXME</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_fcoe_root_device"></a>FCoE Root Device</h2></div></div></div><p>FIXME</p></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_troubleshooting"></a>Chapter 8. Troubleshooting</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#identifying-your-problem-area">Identifying your problem area</a></span></dt><dt><span class="section"><a href="#information-to-include-in-your-report">Information to include in your report</a></span></dt><dd><dl><dt><span class="section"><a href="#all-bug-reports">All bug reports</a></span></dt><dt><span class="section"><a href="#logical-volume-management-related-problems">Logical Volume Management related problems</a></span></dt><dt><span class="section"><a href="#software-raid-related-problems">Software RAID related problems</a></span></dt><dt><span class="section"><a href="#network-root-device-related-problems">Network root device related problems</a></span></dt></dl></dd><dt><span class="section"><a href="#debugging-dracut">Debugging dracut</a></span></dt><dd><dl><dt><span class="section"><a href="#configure-a-serial-console">Configure a serial console</a></span></dt><dt><span class="section"><a href="#using-the-dracut-shell">Using the dracut shell</a></span></dt><dt><span class="section"><a href="#accessing-the-root-volume-from-the-dracut-shell">Accessing the root volume from the dracut shell</a></span></dt><dt><span class="section"><a href="#additional-dracut-boot-parameters">Additional dracut boot parameters</a></span></dt></dl></dd></dl></div><p>If the boot process does not succeed, you have several options to debug the
situation. Some of the basic operations are covered here. For more information
you should also visit:
<a class="ulink" href="http://fedoraproject.org/wiki/How_to_debug_Dracut_problems" target="_top">http://fedoraproject.org/wiki/How_to_debug_Dracut_problems</a></p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="identifying-your-problem-area"></a>Identifying your problem area</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Remove <span class="emphasis"><em>'rhgb</em></span>' and <span class="emphasis"><em>'quiet</em></span>' from the kernel command line
</li><li class="listitem">
Add <span class="emphasis"><em>'rd.shell</em></span>' to the kernel command line. This will present a shell should
dracut be unable to locate your root device
</li><li class="listitem">
Add <span class="emphasis"><em>'rd.shell rd.debug log_buf_len=1M</em></span>' to the kernel command line so that
dracut shell commands are printed as they are executed
</li><li class="listitem"><p class="simpara">
With dracut &gt;= 002-11, you can inspect the rd.debug output with:
</p><pre class="screen"># less /run/initramfs/init.log
# dmesg | less</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="information-to-include-in-your-report"></a>Information to include in your report</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="all-bug-reports"></a>All bug reports</h3></div></div></div><p>In all cases, the following should be mentioned and attached to your bug report:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
The exact kernel command-line used. Typically from the bootloader
configuration file (e.g. <span class="emphasis"><em>/etc/grub.conf</em></span>) or from <span class="emphasis"><em>/proc/cmdline</em></span>.
</li><li class="listitem">
A copy of your disk partition information from <span class="emphasis"><em>/etc/fstab</em></span>, which might be
obtained booting an old working initramfs or a rescue medium.
</li><li class="listitem"><p class="simpara">
A device listing from device-mapper. This can be obtained by running the
command
</p><pre class="screen"># dmsetup ls --tree</pre></li><li class="listitem"><p class="simpara">
A list of block device attributes. This can be obtained by running the commands:
</p><pre class="screen"># blkid -p
# blkid -p -o udev</pre></li><li class="listitem"><p class="simpara">
Turn on dracut debugging (see <span class="emphasis"><em>the <span class="emphasis"><em>debugging dracut</em></span> section</em></span>), and attach
all relevant information from the boot log. This can be obtained by running the
command
</p><pre class="screen"># dmesg|grep dracut</pre></li><li class="listitem">
If you use a dracut configuration file, please include <span class="emphasis"><em>/etc/dracut.conf</em></span> and
all files in <span class="emphasis"><em>/etc/dracut.conf.d/*.conf</em></span>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="logical-volume-management-related-problems"></a>Logical Volume Management related problems</h3></div></div></div><p>As well as the information from <a class="xref" href="#all-bug-reports" title="All bug reports">the section called “All bug reports”</a> include the following
information:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Include physical volume information by running the command:
</p><pre class="screen"># lvm pvdisplay</pre></li><li class="listitem"><p class="simpara">
Include volume group information by running the command:
</p><pre class="screen"># lvm vgdisplay</pre></li><li class="listitem"><p class="simpara">
Include logical volume information by running the command:
</p><pre class="screen"># lvm lvdisplay</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="software-raid-related-problems"></a>Software RAID related problems</h3></div></div></div><p>As well as the information from <a class="xref" href="#all-bug-reports" title="All bug reports">the section called “All bug reports”</a>, include the following
information:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
If using software RAID disk partitions, please include the output of
</p><pre class="screen"># cat /proc/mdstat</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="network-root-device-related-problems"></a>Network root device related problems</h3></div></div></div><p>This section details information to include when experiencing problems on a
system whose root device is located on a network attached volume (e.g. iSCSI,
NFS or NBD). As well as the information from <a class="xref" href="#all-bug-reports" title="All bug reports">the section called “All bug reports”</a>, include the
following information:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
Please include the output of
</p><pre class="screen"># /sbin/ifup &lt;interfacename&gt;
# ip addr show</pre></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="debugging-dracut"></a>Debugging dracut</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configure-a-serial-console"></a>Configure a serial console</h3></div></div></div><p>Successfully debugging dracut will require some form of console
logging during the system boot.  This section documents configuring a
serial console connection to record boot messages.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
First, enable serial console output for both the kernel and the bootloader.
</li><li class="listitem"><p class="simpara">
Open the file <span class="emphasis"><em>/etc/grub.conf</em></span> for editing. Below the line <span class="emphasis"><em>'timeout=5</em></span>', add
the following:
</p><pre class="screen">serial --unit=0 --speed=9600
terminal --timeout=5 serial console</pre></li><li class="listitem"><p class="simpara">
Also in <span class="emphasis"><em>/etc/grub.conf</em></span>, add the following boot arguemnts to the <span class="emphasis"><em>'kernel</em></span>'
line:
</p><pre class="screen">console=tty0 console=ttyS0,9600</pre></li><li class="listitem"><p class="simpara">
When finished, the <span class="emphasis"><em>/etc/grub.conf</em></span> file should look similar to the example
below.
</p><pre class="screen">default=0
timeout=5
serial --unit=0 --speed=9600
terminal --timeout=5 serial console
title Fedora (2.6.29.5-191.fc11.x86_64)
  root (hd0,0)
  kernel /vmlinuz-2.6.29.5-191.fc11.x86_64 ro root=/dev/mapper/vg_uc1-lv_root console=tty0 console=ttyS0,9600
  initrd /dracut-2.6.29.5-191.fc11.x86_64.img</pre></li><li class="listitem">
More detailed information on how to configure the kernel for console output
can be found at
<a class="ulink" href="http://www.faqs.org/docs/Linux-HOWTO/Remote-Serial-Console-HOWTO.html#CONFIGURE-KERNEL" target="_top">http://www.faqs.org/docs/Linux-HOWTO/Remote-Serial-Console-HOWTO.html#CONFIGURE-KERNEL</a>.
</li><li class="listitem"><p class="simpara">
Redirecting non-interactive output
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>You can redirect all non-interactive output to <span class="emphasis"><em>/dev/kmsg</em></span> and the kernel
will put it out on the console when it reaches the kernel buffer by doing</p></div><pre class="screen"># exec &gt;/dev/kmsg 2&gt;&amp;1 &lt;/dev/console</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="using-the-dracut-shell"></a>Using the dracut shell</h3></div></div></div><p>Dracut offers a shell for interactive debugging in the event dracut fails to
locate your root filesystem. To enable the shell:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Add the boot parameter <span class="emphasis"><em>'rd.shell</em></span>' to your bootloader configuration file
(e.g. <span class="emphasis"><em>/etc/grub.conf</em></span>)
</li><li class="listitem"><p class="simpara">
Remove the boot arguments <span class="emphasis"><em>'rhgb</em></span>' and <span class="emphasis"><em>'quiet</em></span>'
</p><p class="simpara">A sample <span class="emphasis"><em>/etc/grub.conf</em></span> bootloader configuration file is listed below.</p><pre class="screen">default=0
timeout=5
serial --unit=0 --speed=9600
terminal --timeout=5 serial console
title Fedora (2.6.29.5-191.fc11.x86_64)
  root (hd0,0)
  kernel /vmlinuz-2.6.29.5-191.fc11.x86_64 ro root=/dev/mapper/vg_uc1-lv_root console=tty0 rd.shell
  initrd /dracut-2.6.29.5-191.fc11.x86_64.img</pre></li><li class="listitem"><p class="simpara">
If system boot fails, you will be dropped into a shell as seen in the example below.
</p><pre class="screen">No root device found
Dropping to debug shell.

#</pre></li><li class="listitem">
Use this shell prompt to gather the information requested above (see <a class="xref" href="#all-bug-reports" title="All bug reports">the section called “All bug reports”</a>).
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="accessing-the-root-volume-from-the-dracut-shell"></a>Accessing the root volume from the dracut shell</h3></div></div></div><p>From the dracut debug shell, you can manually perform the task of locating and
preparing your root volume for boot. The required steps will depend on how your
root volume is configured. Common scenarios include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
A block device (e.g. <span class="emphasis"><em>/dev/sda7</em></span>)
</li><li class="listitem">
A LVM logical volume (e.g. <span class="emphasis"><em>/dev/VolGroup00/LogVol00</em></span>)
</li><li class="listitem">
An encrypted device (e.g. <span class="emphasis"><em>/dev/mapper/luks-4d5972ea-901c-4584-bd75-1da802417d83</em></span>)
</li><li class="listitem">
A network attached device (e.g. netroot=iscsi:@192.168.0.4::3260::iqn.2009-02.org.fedoraproject:for.all)
</li></ul></div><p>The exact method for locating and preparing will vary. However, to continue with
a successful boot, the objective is to locate your root volume and create a
symlink <span class="emphasis"><em>/dev/root</em></span> which points to the file system. For example, the following
example demonstrates accessing and booting a root volume that is an encrypted
LVM Logical volume.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Inspect your partitions using parted
</p><pre class="screen"># parted /dev/sda -s p
Model: ATA HTS541060G9AT00 (scsi)
Disk /dev/sda: 60.0GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Number  Start   End     Size    Type      File system  Flags
1      32.3kB  10.8GB  107MB   primary   ext4         boot
2      10.8GB  55.6GB  44.7GB  logical                lvm</pre></li><li class="listitem"><p class="simpara">
You recall that your root volume was a LVM logical volume. Scan and activate
any logical volumes.
</p><pre class="screen"># lvm vgscan
# lvm vgchange -ay</pre></li><li class="listitem"><p class="simpara">
You should see any logical volumes now using the command blkid:
</p><pre class="screen"># blkid
/dev/sda1: UUID="3de247f3-5de4-4a44-afc5-1fe179750cf7" TYPE="ext4"
/dev/sda2: UUID="Ek4dQw-cOtq-5MJu-OGRF-xz5k-O2l8-wdDj0I" TYPE="LVM2_member"
/dev/mapper/linux-root: UUID="def0269e-424b-4752-acf3-1077bf96ad2c" TYPE="crypto_LUKS"
/dev/mapper/linux-home: UUID="c69127c1-f153-4ea2-b58e-4cbfa9257c5e" TYPE="ext3"
/dev/mapper/linux-swap: UUID="47b4d329-975c-4c08-b218-f9c9bf3635f1" TYPE="swap"</pre></li><li class="listitem"><p class="simpara">
From the output above, you recall that your root volume exists on an encrypted
block device. Following the guidance disk encryption guidance from the
Installation Guide, you unlock your encrypted root volume.
</p><pre class="screen"># UUID=$(cryptsetup luksUUID /dev/mapper/linux-root)
# cryptsetup luksOpen /dev/mapper/linux-root luks-$UUID
Enter passphrase for /dev/mapper/linux-root:
Key slot 0 unlocked.</pre></li><li class="listitem"><p class="simpara">
Next, make a symbolic link to the unlocked root volume
</p><pre class="screen"># ln -s /dev/mapper/luks-$UUID /dev/root</pre></li><li class="listitem"><p class="simpara">
With the root volume available, you may continue booting the system by exiting
the dracut shell
</p><pre class="screen"># exit</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="additional-dracut-boot-parameters"></a>Additional dracut boot parameters</h3></div></div></div><p>For more debugging options, see <a class="xref" href="#dracutkerneldebug" title="Debug">the section called “Debug”</a> in <a class="xref" href="#dracutcmdline7" title="Part VI. DRACUT.CMDLINE(7)">Part VI, “DRACUT.CMDLINE(7)”</a>.</p></div></div></div></div><div class="part"><div class="titlepage"><div><div><h1 class="title"><a id="_developer_manual"></a>Part III. Developer Manual</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="chapter"><a href="#_dracut_components">9. dracut Components</a></span></dt><dt><span class="chapter"><a href="#stages">10. Boot Process Stages</a></span></dt><dd><dl><dt><span class="section"><a href="#_basic_setup">Basic Setup</a></span></dt><dt><span class="section"><a href="#_hook_cmdline">Hook: cmdline</a></span></dt><dt><span class="section"><a href="#_hook_pre_udev">Hook: pre-udev</a></span></dt><dt><span class="section"><a href="#_start_udev">Start Udev</a></span></dt><dt><span class="section"><a href="#_hook_pre_trigger">Hook: pre-trigger</a></span></dt><dt><span class="section"><a href="#_trigger_udev">Trigger Udev</a></span></dt><dt><span class="section"><a href="#_main_loop">Main Loop</a></span></dt><dd><dl><dt><span class="section"><a href="#_initqueue">Initqueue</a></span></dt><dt><span class="section"><a href="#_initqueue_settled">Initqueue settled</a></span></dt><dt><span class="section"><a href="#_initqueue_timeout">Initqueue timeout</a></span></dt><dt><span class="section"><a href="#_initqueue_finished">Initqueue finished</a></span></dt></dl></dd><dt><span class="section"><a href="#_hook_pre_mount">Hook: pre-mount</a></span></dt><dt><span class="section"><a href="#_hook_mount">Hook: mount</a></span></dt><dt><span class="section"><a href="#_hook_pre_pivot">Hook: pre-pivot</a></span></dt><dt><span class="section"><a href="#_hook_cleanup">Hook: cleanup</a></span></dt><dt><span class="section"><a href="#_cleanup_and_switch_root">Cleanup and switch_root</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_network_infrastructure">11. Network Infrastructure</a></span></dt><dt><span class="chapter"><a href="#_writing_a_module">12. Writing a Module</a></span></dt><dd><dl><dt><span class="section"><a href="#_check">check()</a></span></dt><dt><span class="section"><a href="#_depends">depends()</a></span></dt><dt><span class="section"><a href="#_install">install()</a></span></dt><dt><span class="section"><a href="#_installkernel">installkernel()</a></span></dt><dt><span class="section"><a href="#_creation_functions">Creation Functions</a></span></dt><dt><span class="section"><a href="#_initramfs_functions">Initramfs Functions</a></span></dt><dt><span class="section"><a href="#_network_modules">Network Modules</a></span></dt></dl></dd></dl></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_dracut_components"></a>Chapter 9. dracut Components</h2></div></div></div><p>dracut uses a modular system to build and extend the initramfs image. All
modules are located in <span class="emphasis"><em>/usr/lib/dracut/modules.d</em></span> or in <span class="emphasis"><em>&lt;git-src&gt;/modules.d</em></span>.
The most basic dracut module is <span class="emphasis"><em>99base</em></span>. In <span class="emphasis"><em>99base</em></span> the initial shell script
init is defined, which gets run by the kernel after initramfs loading. Although
you can replace init with your own version of <span class="emphasis"><em>99base</em></span>, this is not encouraged.
Instead you should use, if possible, the hooks of dracut. All hooks, and the
point of time in which they are executed, are described in <a class="xref" href="#stages" title="Chapter 10. Boot Process Stages">Chapter 10, <em>Boot Process Stages</em></a>.</p><p>The main script, which creates the initramfs is dracut itsself. It parses all
arguments and sets up the directory, in which everything is installed. It then
executes all check, install, installkernel scripts found in the modules, which
are to be processed. After everything is installed, the install directory is
archived and compressed to the final initramfs image. All helper functions used
by check, install and installkernel are found in in the file <span class="emphasis"><em>dracut-functions</em></span>.
These shell functions are available to all module installer (install,
installkernel) scripts, without the need to source <span class="emphasis"><em>dracut-functions</em></span>.</p><p>A module can check the preconditions for install and installkernel with the
check script. Also dependencies can be expressed with check. If a module passed
check, install and installkernel will be called to install all of the necessary
files for the module. To split between kernel and non-kernel parts of the
installation, all kernel module related parts have to be in installkernel. All
other files found in a module directory are module specific and mostly are hook
scripts and udev rules.</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="stages"></a>Chapter 10. Boot Process Stages</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_basic_setup">Basic Setup</a></span></dt><dt><span class="section"><a href="#_hook_cmdline">Hook: cmdline</a></span></dt><dt><span class="section"><a href="#_hook_pre_udev">Hook: pre-udev</a></span></dt><dt><span class="section"><a href="#_start_udev">Start Udev</a></span></dt><dt><span class="section"><a href="#_hook_pre_trigger">Hook: pre-trigger</a></span></dt><dt><span class="section"><a href="#_trigger_udev">Trigger Udev</a></span></dt><dt><span class="section"><a href="#_main_loop">Main Loop</a></span></dt><dd><dl><dt><span class="section"><a href="#_initqueue">Initqueue</a></span></dt><dt><span class="section"><a href="#_initqueue_settled">Initqueue settled</a></span></dt><dt><span class="section"><a href="#_initqueue_timeout">Initqueue timeout</a></span></dt><dt><span class="section"><a href="#_initqueue_finished">Initqueue finished</a></span></dt></dl></dd><dt><span class="section"><a href="#_hook_pre_mount">Hook: pre-mount</a></span></dt><dt><span class="section"><a href="#_hook_mount">Hook: mount</a></span></dt><dt><span class="section"><a href="#_hook_pre_pivot">Hook: pre-pivot</a></span></dt><dt><span class="section"><a href="#_hook_cleanup">Hook: cleanup</a></span></dt><dt><span class="section"><a href="#_cleanup_and_switch_root">Cleanup and switch_root</a></span></dt></dl></div><p>The init script in <span class="emphasis"><em>99base</em></span> is the main script, which prepares the root file
system for usage, runs udev, mounts the real root device, kills the remaining
processes, and switches to the real root device for further booting. dracut
modules can insert custom script at various points, to control the boot process.
These hooks are plain directories containing shell scripts ending with ".sh",
which are sourced by init.
Common used functions are in <span class="emphasis"><em>dracut-lib.sh</em></span>, which can be sourced by any script.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_basic_setup"></a>Basic Setup</h2></div></div></div><p>The first thing init does, is to mount <span class="emphasis"><em>/proc</em></span> and <span class="emphasis"><em>/sys</em></span> and manually create
the basic device nodes and symbolic links in <span class="emphasis"><em>/dev</em></span> needed to execute basic
commands. Then logging is setup according to kernel command line arguments.
<span class="emphasis"><em>/dev/pts</em></span> and <span class="emphasis"><em>/dev/shm</em></span> are mounted and the first hook is sourced.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_hook_cmdline"></a>Hook: cmdline</h2></div></div></div><p>The <span class="emphasis"><em>cmdline</em></span> hook is a place to insert scripts to parse the kernel command line
and prepare the later actions, like setting up udev rules and configuration
files.</p><p>In this hook the most important environment variable is defined: root. The
second one is rootok, which indicates, that a module claimed to be able to parse
the root defined. So for example, <span class="strong"><strong>root=</strong></span><span class="emphasis"><em>iscsi:….</em></span> will be claimed by the
iscsi dracut module, which then sets rootok.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_hook_pre_udev"></a>Hook: pre-udev</h2></div></div></div><p>This hook is executed right after the cmdline hook and a check if root and
rootok were set. Here modules can take action with the final root, and before
udev has been run.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_start_udev"></a>Start Udev</h2></div></div></div><p>Now udev is started and the logging for udev is setup.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_hook_pre_trigger"></a>Hook: pre-trigger</h2></div></div></div><p>In this hook, you can set udev environment variables with <span class="strong"><strong>udevadm control
--property=KEY=<span class="emphasis"><em>value</em></span></strong></span> or control the further execution of udev with
udevadm.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_trigger_udev"></a>Trigger Udev</h2></div></div></div><p>udev is triggered by calling udevadm trigger, which sends add events for all
devices and subsystems.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_main_loop"></a>Main Loop</h2></div></div></div><p>Now the main loop of 99base/init begins. Here we loop until udev has settled and
all scripts in <span class="emphasis"><em>initqueue/finished</em></span> returned true. In this loop there are three
hooks, where scripts can be inserted by calling /sbin/initqueue.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_initqueue"></a>Initqueue</h3></div></div></div><p>This hook gets executed every time a script is inserted here, regardless of the
udev state.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_initqueue_settled"></a>Initqueue settled</h3></div></div></div><p>This hooks gets executed every time udev has settled.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_initqueue_timeout"></a>Initqueue timeout</h3></div></div></div><p>This hooks gets executed, when the main loop counter becomes half of the
rd.retry counter.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_initqueue_finished"></a>Initqueue finished</h3></div></div></div><p>This hook is called after udev has settled and if all scripts herein return 0
the main loop will be ended.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_hook_pre_mount"></a>Hook: pre-mount</h2></div></div></div><p>Before the root device is mounted all scripts in the hook pre-mount are
executed. In some cases (e.g. NFS) the real root device is already mounted,
though.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_hook_mount"></a>Hook: mount</h2></div></div></div><p>This hook is mainly to mount the real root device.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_hook_pre_pivot"></a>Hook: pre-pivot</h2></div></div></div><p>This hook is called before cleanup hook, This is a good place for
actions other than cleanups which need to be called before pivot.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_hook_cleanup"></a>Hook: cleanup</h2></div></div></div><p>This hook is the last hook and is called before init finally switches root to
the real root device. This is a good place to clean up and kill processes not
needed anymore.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_cleanup_and_switch_root"></a>Cleanup and switch_root</h2></div></div></div><p>Init kills all udev processes, cleans up the environment, sets up the arguments
for the real init process and finally calls switch_root. switch_root removes the
whole filesystem hierarchy of the initramfs, chroot()s to the real root device
and calls /sbin/init with the specified arguments.</p><p>To ensure all files in the initramfs hierarchy can be removed, all processes
still running from the initramfs should not have any open file descriptors left.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_network_infrastructure"></a>Chapter 11. Network Infrastructure</h2></div></div></div><p>FIXME</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_writing_a_module"></a>Chapter 12. Writing a Module</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_check">check()</a></span></dt><dt><span class="section"><a href="#_depends">depends()</a></span></dt><dt><span class="section"><a href="#_install">install()</a></span></dt><dt><span class="section"><a href="#_installkernel">installkernel()</a></span></dt><dt><span class="section"><a href="#_creation_functions">Creation Functions</a></span></dt><dt><span class="section"><a href="#_initramfs_functions">Initramfs Functions</a></span></dt><dt><span class="section"><a href="#_network_modules">Network Modules</a></span></dt></dl></div><p>A simple example module is <span class="emphasis"><em>96insmodpost</em></span>, which modprobes a kernel module after
udev has settled and the basic device drivers have been loaded.</p><p>All module installation information is in the file module-setup.sh.</p><p>First we create a check() function, which just exits with 0 indicating that this
module should be included by default.</p><p>check():</p><pre class="screen">return 0</pre><p>The we create the install() function, which installs a cmdline hook with
priority number 20 called <span class="emphasis"><em>parse-insmodpost.sh</em></span>. It also installs the
<span class="emphasis"><em>insmodpost.sh</em></span> script in <span class="emphasis"><em>/sbin</em></span>.</p><p>install():</p><pre class="screen">inst_hook cmdline 20 "$moddir/parse-insmodpost.sh"
inst_simple "$moddir/insmodpost.sh" /sbin/insmodpost.sh</pre><p>The <span class="emphasis"><em>pase-instmodpost.sh</em></span> parses the kernel command line for a argument
rd.driver.post, blacklists the module from being autoloaded and installs the
hook <span class="emphasis"><em>insmodpost.sh</em></span> in the <span class="emphasis"><em>initqueue/settled</em></span>.</p><p><span class="emphasis"><em>parse-insmodpost.sh</em></span>:</p><pre class="screen">for p in $(getargs rd.driver.post=); do
    echo "blacklist $p" &gt;&gt; /etc/modprobe.d/initramfsblacklist.conf
    _do_insmodpost=1
done

[ -n "$_do_insmodpost" ] &amp;&amp; /sbin/initqueue --settled --unique --onetime /sbin/insmodpost.sh
unset _do_insmodpost</pre><p><span class="emphasis"><em>insmodpost.sh</em></span>, which is called in the <span class="emphasis"><em>initqueue/settled</em></span> hook will just
modprobe the kernel modules specified in all rd.driver.post kernel command line
parameters. It runs after udev has settled and is only called once (--onetime).</p><p><span class="emphasis"><em>insmodpost.sh</em></span>:</p><pre class="screen">. /lib/dracut-lib.sh

for p in $(getargs rd.driver.post=); do
    modprobe $p
done</pre><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_check"></a>check()</h2></div></div></div><p><span class="emphasis"><em>check()</em></span> is called by dracut to evaluate the inclusion of a dracut module in
the initramfs.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
$hostonly
</span></dt><dd>
If the $hostonly variable is set, then the module check() function
should be in "hostonly" mode, which means, that the check() should only return
0, if the module is really needed to boot this specific host.
</dd></dl></div><p>check() should return with:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
0
</span></dt><dd>
Include the dracut module in the initramfs.
</dd><dt><span class="term">
1
</span></dt><dd>
Do not include the dracut module. The requirements are not fullfilled
(missing tools, etc.)
</dd><dt><span class="term">
255
</span></dt><dd>
Only include the dracut module, if another module requires it or if
explicitly specified in the config file or on the argument list.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_depends"></a>depends()</h2></div></div></div><p>The function depends() should echo all other dracut module names the module
depends on.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_install"></a>install()</h2></div></div></div><p>dracut_install</p><p>inst</p><p>inst_hook</p><p>inst_rules</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_installkernel"></a>installkernel()</h2></div></div></div><p>instmods</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_creation_functions"></a>Creation Functions</h2></div></div></div><p>FIXME</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_initramfs_functions"></a>Initramfs Functions</h2></div></div></div><p>FIXME</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_network_modules"></a>Network Modules</h2></div></div></div><p>FIXME</p></div></div></div><div class="part"><div class="titlepage"><div><div><h1 class="title"><a id="dracut8"></a>Part IV. DRACUT(8)</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="chapter"><a href="#_name">13. NAME</a></span></dt><dt><span class="chapter"><a href="#_synopsis">14. SYNOPSIS</a></span></dt><dt><span class="chapter"><a href="#_description">15. DESCRIPTION</a></span></dt><dt><span class="chapter"><a href="#_options">16. OPTIONS</a></span></dt><dt><span class="chapter"><a href="#_files">17. FILES</a></span></dt><dd><dl><dt><span class="section"><a href="#_configuration_in_the_initramfs">Configuration in the initramfs</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_availability">18. AVAILABILITY</a></span></dt><dt><span class="chapter"><a href="#_authors">19. AUTHORS</a></span></dt><dt><span class="chapter"><a href="#_see_also">20. SEE ALSO</a></span></dt></dl></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_name"></a>Chapter 13. NAME</h2></div></div></div><p>dracut - low-level tool for generating an initramfs image</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_synopsis"></a>Chapter 14. SYNOPSIS</h2></div></div></div><p><span class="strong"><strong>dracut</strong></span> [<span class="emphasis"><em>OPTION…</em></span>] [&lt;image&gt; [<span class="emphasis"><em>&lt;kernel version&gt;</em></span>]]</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_description"></a>Chapter 15. DESCRIPTION</h2></div></div></div><p>dracut creates an initial image used by the kernel for preloading the block
device modules (such as IDE, SCSI or RAID) which are needed to access the root
filesystem, mounting the root filesystem and booting into the real system.</p><p>At boot time, the kernel unpacks that archive into RAM disk, mounts and uses it
as initial root file system. All finding of the root device happens in this
early userspace.</p><p>For a complete list of kernel command line options see <span class="strong"><strong>dracut.cmdline</strong></span>(7)</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_options"></a>Chapter 16. OPTIONS</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>-f, --force</strong></span>
</span></dt><dd>
    overwrite existing initramfs file.
</dd><dt><span class="term">
<span class="strong"><strong>-m, --modules</strong></span> <span class="emphasis"><em>&lt;list of dracut modules&gt;</em></span>
</span></dt><dd><p class="simpara">
    specify a space-separated list of dracut modules to call when building the
    initramfs. Modules are located in <span class="emphasis"><em>/usr/lib/dracut/modules.d</em></span>. This
    parameter can be specified multiple times.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><pre class="screen"># dracut --modules "module1 module2"  ...</pre></div></dd><dt><span class="term">
<span class="strong"><strong>-o, --omit</strong></span> <span class="emphasis"><em>&lt;list of dracut modules&gt;</em></span>
</span></dt><dd>
    omit a space-separated list of dracut modules. This parameter can be
    specified multiple times.
</dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><pre class="screen"># dracut --omit "module1 module2"  ...</pre></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>-a, --add</strong></span> <span class="emphasis"><em>&lt;list of dracut modules&gt;</em></span>
</span></dt><dd><p class="simpara">
    add a space-separated list of dracut modules to the default set of modules.
    This parameter can be specified multiple times.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><pre class="screen"># dracut --add "module1 module2"  ...</pre></div></dd><dt><span class="term">
<span class="strong"><strong>--force-add</strong></span> <span class="emphasis"><em>&lt;list of dracut modules&gt;</em></span>
</span></dt><dd><p class="simpara">
    force to add a space-separated list of dracut modules to the default set of
    modules, when -H is specified. This parameter can be specified multiple
    times.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><pre class="screen"># dracut --force-add "module1 module2"  ...</pre></div></dd><dt><span class="term">
<span class="strong"><strong>-d, --drivers</strong></span> <span class="emphasis"><em>&lt;list of kernel modules&gt;</em></span>
</span></dt><dd><p class="simpara">
    specify a space-separated list of kernel modules to exclusively include
    in the initramfs. The kernel modules have to be specified without the ".ko"
    suffix. This parameter can be specified multiple times.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><pre class="screen"># dracut --drivers "kmodule1 kmodule2"  ...</pre></div></dd><dt><span class="term">
<span class="strong"><strong>--add-drivers</strong></span> <span class="emphasis"><em>&lt;list of kernel modules&gt;</em></span>
</span></dt><dd><p class="simpara">
    specify a space-separated list of kernel modules to add to the initramfs.
    The kernel modules have to be specified without the ".ko" suffix. This
    parameter can be specified multiple times.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><pre class="screen"># dracut --add-drivers "kmodule1 kmodule2"  ...</pre></div></dd><dt><span class="term">
<span class="strong"><strong>--omit-drivers</strong></span> <span class="emphasis"><em>&lt;list of kernel modules&gt;</em></span>
</span></dt><dd><p class="simpara">
    specify a space-separated list of kernel modules not to add to the
    initramfs.
    The kernel modules have to be specified without the ".ko" suffix. This
    parameter can be specified multiple times.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><pre class="screen"># dracut --omit-drivers "kmodule1 kmodule2"  ...</pre></div></dd><dt><span class="term">
<span class="strong"><strong>--filesystems</strong></span> <span class="emphasis"><em>&lt;list of filesystems&gt;</em></span>
</span></dt><dd>
    specify a space-separated list of kernel filesystem modules to exclusively
    include in the generic initramfs. This parameter can be specified multiple
    times.
</dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><pre class="screen"># dracut --filesystems "filesystem1 filesystem2"  ...</pre></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>-k, --kmoddir</strong></span> <span class="emphasis"><em>&lt;kernel directory&gt;</em></span>
</span></dt><dd>
    specify the directory, where to look for kernel modules
</dd><dt><span class="term">
<span class="strong"><strong>--fwdir</strong></span> <span class="emphasis"><em>&lt;dir&gt;[:&lt;dir&gt;…]++</em></span>
</span></dt><dd>
    specify additional directories, where to look for firmwares. This parameter
    can be specified multiple times.
</dd><dt><span class="term">
<span class="strong"><strong>--kernel-only</strong></span>
</span></dt><dd>
    only install kernel drivers and firmware files
</dd><dt><span class="term">
<span class="strong"><strong>--no-kernel</strong></span>
</span></dt><dd>
    do not install kernel drivers and firmware files
</dd><dt><span class="term">
<span class="strong"><strong>--mdadmconf</strong></span>
</span></dt><dd>
    include local <span class="emphasis"><em>/etc/mdadm.conf</em></span>
</dd><dt><span class="term">
<span class="strong"><strong>--nomdadmconf</strong></span>
</span></dt><dd>
    do not include local <span class="emphasis"><em>/etc/mdadm.conf</em></span>
</dd><dt><span class="term">
<span class="strong"><strong>--lvmconf</strong></span>
</span></dt><dd>
    include local <span class="emphasis"><em>/etc/lvm/lvm.conf</em></span>
</dd><dt><span class="term">
<span class="strong"><strong>--nolvmconf</strong></span>
</span></dt><dd>
    do not include local <span class="emphasis"><em>/etc/lvm/lvm.conf</em></span>
</dd><dt><span class="term">
<span class="strong"><strong>--fscks</strong></span> [LIST]
</span></dt><dd><p class="simpara">
    add a space-separated list of fsck tools, in addition to <span class="emphasis"><em>dracut.conf</em></span>'s
    specification; the installation is opportunistic (non-existing tools are
    ignored)
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><pre class="screen"># dracut --fscks "fsck.foo barfsck"  ...</pre></div></dd><dt><span class="term">
<span class="strong"><strong>--nofscks</strong></span>
</span></dt><dd>
    inhibit installation of any fsck tools
</dd><dt><span class="term">
<span class="strong"><strong>--strip</strong></span>
</span></dt><dd>
    strip binaries in the initramfs (default)
</dd><dt><span class="term">
<span class="strong"><strong>--nostrip</strong></span>
</span></dt><dd>
    do not strip binaries in the initramfs
</dd><dt><span class="term">
<span class="strong"><strong>--prefix</strong></span> <span class="emphasis"><em>&lt;dir&gt;</em></span>
</span></dt><dd>
    prefix initramfs files with the specified directory
</dd><dt><span class="term">
<span class="strong"><strong>--noprefix</strong></span>
</span></dt><dd>
    do not prefix initramfs files (default)
</dd><dt><span class="term">
<span class="strong"><strong>-h, --help</strong></span>
</span></dt><dd>
    display help text and exit.
</dd><dt><span class="term">
<span class="strong"><strong>--debug</strong></span>
</span></dt><dd>
    output debug information of the build process
</dd><dt><span class="term">
<span class="strong"><strong>-v, --verbose</strong></span>
</span></dt><dd>
    increase verbosity level (default is info(4))
</dd><dt><span class="term">
<span class="strong"><strong>-q, --quiet</strong></span>
</span></dt><dd>
decrease verbosity level (default is info(4))
</dd><dt><span class="term">
<span class="strong"><strong>-c, --conf</strong></span> <span class="emphasis"><em>&lt;dracut configuration file&gt;</em></span>
</span></dt><dd><p class="simpara">
    specify configuration file to use.
</p><p class="simpara">Default:
   <span class="emphasis"><em>/etc/dracut.conf</em></span></p></dd><dt><span class="term">
<span class="strong"><strong>--confdir</strong></span> <span class="emphasis"><em>&lt;configuration directory&gt;</em></span>
</span></dt><dd><p class="simpara">
    specify configuration directory to use.
</p><p class="simpara">Default:
   <span class="emphasis"><em>/etc/dracut.conf.d</em></span></p></dd><dt><span class="term">
<span class="strong"><strong>--tmpdir</strong></span> <span class="emphasis"><em>&lt;temporary directory&gt;</em></span>
</span></dt><dd><p class="simpara">
    specify temporary directory to use.
</p><p class="simpara">Default:
   <span class="emphasis"><em>/var/tmp</em></span></p></dd><dt><span class="term">
<span class="strong"><strong>--sshkey</strong></span> <span class="emphasis"><em>&lt;sshkey file&gt;</em></span>
</span></dt><dd>
ssh key file used with ssh-client module.
</dd><dt><span class="term">
<span class="strong"><strong>-l, --local</strong></span>
</span></dt><dd>
    activates the local mode. dracut will use modules from the current working
    directory instead of the system-wide installed modules in
    <span class="emphasis"><em>/usr/lib/dracut/modules.d</em></span>.
    This is useful when running dracut from a git checkout.
</dd><dt><span class="term">
<span class="strong"><strong>-H, --hostonly</strong></span>
</span></dt><dd><p class="simpara">
    Host-Only mode: Install only what is needed for booting the local host
    instead of a generic host and generate host-specific configuration.
</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>If chrooted to another root other than the real root device, use "--fstab" and
provide a valid <span class="emphasis"><em>/etc/fstab</em></span>.</p></div></dd><dt><span class="term">
<span class="strong"><strong>--no-hostonly</strong></span>
</span></dt><dd>
    Disable Host-Only mode
</dd><dt><span class="term">
<span class="strong"><strong>--fstab</strong></span>
</span></dt><dd>
    Use <span class="emphasis"><em>/etc/fstab</em></span> instead of <span class="emphasis"><em>/proc/self/mountinfo</em></span>.
</dd><dt><span class="term">
<span class="strong"><strong>--add-fstab</strong></span> _&lt;filename&gt;_ 
</span></dt><dd>
    Add entries of <span class="emphasis"><em>&lt;filename&gt;</em></span> to the initramfs /etc/fstab.
</dd><dt><span class="term">
<span class="strong"><strong>--mount</strong></span> "<span class="emphasis"><em>&lt;device&gt;</em></span> <span class="emphasis"><em>&lt;mountpoint&gt;</em></span> <span class="emphasis"><em>&lt;filesystem type&gt;</em></span> <span class="emphasis"><em>&lt;filesystem options&gt;</em></span>"
</span></dt><dd>
    Mount <span class="emphasis"><em>&lt;device&gt;</em></span> on <span class="emphasis"><em>&lt;mountpoint&gt;</em></span> with <span class="emphasis"><em>&lt;filesystem type&gt;</em></span> and <span class="emphasis"><em>&lt;filesystem
    options&gt;</em></span> in the initramfs
</dd><dt><span class="term">
<span class="strong"><strong>-i, --include</strong></span> <span class="emphasis"><em>&lt;SOURCE&gt;_ _&lt;TARGET&gt;</em></span>
</span></dt><dd>
    include the files in the SOURCE directory into the
    TARGET directory in the final initramfs. If SOURCE is a file, it will be
    installed to TARGET in the final initramfs. This parameter can be specified
    multiple times.
</dd><dt><span class="term">
<span class="strong"><strong>-I, --install</strong></span> <span class="emphasis"><em>&lt;file list&gt;</em></span>
</span></dt><dd><p class="simpara">
    install the space separated list of files into the initramfs.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If [LIST] has multiple arguments, then you have to put these in quotes. For
example:</p><p>+</p><pre class="screen"># dracut --install "/bin/foo /sbin/bar"  ...</pre></div></dd><dt><span class="term">
<span class="strong"><strong>--gzip</strong></span>
</span></dt><dd>
    Compress the generated initramfs using gzip. This will be done by default,
    unless another compression option or --no-compress is passed. Equivalent to
    "--compress=gzip -9"
</dd><dt><span class="term">
<span class="strong"><strong>--bzip2</strong></span>
</span></dt><dd><p class="simpara">
    Compress the generated initramfs using bzip2.
</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Make sure your kernel has bzip2 decompression support compiled in, otherwise you
will not be able to boot. Equivalent to "--compress=bzip2"</p></div></dd><dt><span class="term">
<span class="strong"><strong>--lzma</strong></span>
</span></dt><dd><p class="simpara">
    Compress the generated initramfs using lzma.
</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Make sure your kernel has lzma decompression support compiled in, otherwise you
will not be able to boot. Equivalent to "--compress=lzma -9"</p></div></dd><dt><span class="term">
<span class="strong"><strong>--xz</strong></span>
</span></dt><dd><p class="simpara">
    Compress the generated initramfs using xz.
</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Make sure your kernel has xz decompression support compiled in, otherwise you
will not be able to boot. Equivalent to "--compress=xz --check=crc32
--lzma2=dict=1MiB"</p></div></dd><dt><span class="term">
<span class="strong"><strong>--compress</strong></span> <span class="emphasis"><em>&lt;compressor&gt;</em></span>
</span></dt><dd>
    Compress the generated initramfs using the passed compression program. If
    you pass it just the name of a compression program, it will call that
    program with known-working arguments. If you pass a quoted string with
    arguments, it will be called with exactly those arguments. Depending on what
    you pass, this may result in an initramfs that the kernel cannot decompress.
</dd><dt><span class="term">
<span class="strong"><strong>--no-compress</strong></span>
</span></dt><dd>
    Do not compress the generated initramfs. This will override any other
    compression options.
</dd><dt><span class="term">
<span class="strong"><strong>--list-modules</strong></span>
</span></dt><dd>
    List all available dracut modules.
</dd><dt><span class="term">
<span class="strong"><strong>-M, --show-modules</strong></span>
</span></dt><dd>
    Print included module’s name to standard output during build.
</dd><dt><span class="term">
<span class="strong"><strong>--keep</strong></span>
</span></dt><dd>
    Keep the initramfs temporary directory for debugging purposes.
</dd></dl></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_files"></a>Chapter 17. FILES</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_configuration_in_the_initramfs">Configuration in the initramfs</a></span></dt></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="emphasis"><em>/var/log/dracut.log</em></span>
</span></dt><dd>
    logfile of initramfs image creation
</dd><dt><span class="term">
<span class="emphasis"><em>/tmp/dracut.log</em></span>
</span></dt><dd>
    logfile of initramfs image creation, if <span class="emphasis"><em>/var/log/dracut.log</em></span> is not
    writable
</dd><dt><span class="term">
<span class="emphasis"><em>/etc/dracut.conf</em></span>
</span></dt><dd>
    see dracut.conf5
</dd><dt><span class="term">
<span class="emphasis"><em>/etc/dracut.conf.d/*.conf</em></span>
</span></dt><dd>
    see dracut.conf5
</dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_configuration_in_the_initramfs"></a>Configuration in the initramfs</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="emphasis"><em>/etc/conf.d/</em></span>
</span></dt><dd>
    Any files found in <span class="emphasis"><em>/etc/conf.d/</em></span> will be sourced in the initramfs to
    set initial values. Command line options will override these values
    set in the configuration files.
</dd><dt><span class="term">
<span class="emphasis"><em>/etc/cmdline</em></span>
</span></dt><dd>
    Can contain additional command line options.
</dd></dl></div></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_availability"></a>Chapter 18. AVAILABILITY</h2></div></div></div><p>The dracut command is part of the dracut package and is available from
<a class="ulink" href="https://dracut.wiki.kernel.org" target="_top">https://dracut.wiki.kernel.org</a></p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_authors"></a>Chapter 19. AUTHORS</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Harald Hoyer</strong></span>
</span></dt><dd>
    Project Leader and Developer
</dd><dt><span class="term">
<span class="strong"><strong>Victor Lowther</strong></span>
</span></dt><dd>
    Developer
</dd><dt><span class="term">
<span class="strong"><strong>Philippe Seewer</strong></span>
</span></dt><dd>
    Developer
</dd><dt><span class="term">
<span class="strong"><strong>Warren Togami</strong></span>
</span></dt><dd>
    Developer
</dd><dt><span class="term">
<span class="strong"><strong>Amadeusz Żołnowski</strong></span>
</span></dt><dd>
    Developer
</dd><dt><span class="term">
<span class="strong"><strong>Jeremy Katz</strong></span>
</span></dt><dd>
    Developer
</dd><dt><span class="term">
<span class="strong"><strong>David Dillow</strong></span>
</span></dt><dd>
    Developer
</dd><dt><span class="term">
<span class="strong"><strong>Will Woods</strong></span>
</span></dt><dd>
    Developer
</dd></dl></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_see_also"></a>Chapter 20. SEE ALSO</h2></div></div></div><p><span class="strong"><strong>dracut.cmdline</strong></span>(7) <span class="strong"><strong>dracut.conf</strong></span>(5)</p></div></div><div class="part"><div class="titlepage"><div><div><h1 class="title"><a id="dracutconf5"></a>Part V. DRACUT.CONF(5)</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="chapter"><a href="#_name_2">21. NAME</a></span></dt><dt><span class="chapter"><a href="#_synopsis_2">22. SYNOPSIS</a></span></dt><dt><span class="chapter"><a href="#_description_2">23. Description</a></span></dt><dt><span class="chapter"><a href="#_files_2">24. Files</a></span></dt><dt><span class="chapter"><a href="#_author">25. AUTHOR</a></span></dt><dt><span class="chapter"><a href="#_see_also_2">26. See Also</a></span></dt></dl></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_name_2"></a>Chapter 21. NAME</h2></div></div></div><p>dracut.conf - configuration file(s) for dracut</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_synopsis_2"></a>Chapter 22. SYNOPSIS</h2></div></div></div><p><span class="emphasis"><em>/etc/dracut.conf</em></span> <span class="emphasis"><em>/etc/dracut.conf.d/*.conf</em></span></p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_description_2"></a>Chapter 23. Description</h2></div></div></div><p><span class="emphasis"><em>dracut.conf</em></span> is loaded during the initialisation phase of dracut. Command line
parameter will overwrite any values set here. <span class="emphasis"><em>dracut.conf.d/*.conf</em></span> files are
read in alphanumerical order and will overwrite parameters set in
<span class="emphasis"><em>/etc/dracut.conf</em></span>. Each line specifies an attribute and a value. A <span class="emphasis"><em>#</em></span>
indicates the beginning of a comment; following characters, up to the end of the
line are not interpreted.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>dracutmodules+=</strong></span>" <span class="emphasis"><em>&lt;dracut modules&gt;</em></span> "
</span></dt><dd>
    Specify a space-separated list of dracut modules to call when building the
    initramfs. Modules are located in <span class="emphasis"><em>/usr/lib/dracut/modules.d</em></span>.
</dd><dt><span class="term">
<span class="strong"><strong>omit_dracutmodules+=</strong></span>" <span class="emphasis"><em>&lt;dracut modules&gt;</em></span> "
</span></dt><dd>
    Omit a space-separated list of dracut modules.
</dd><dt><span class="term">
<span class="strong"><strong>add_dracutmodules+=</strong></span>" <span class="emphasis"><em>&lt;dracut modules&gt;</em></span> "
</span></dt><dd>
    Add a space-separated list of dracut modules.
</dd><dt><span class="term">
<span class="strong"><strong>drivers+=</strong></span>" <span class="emphasis"><em>&lt;kernel modules&gt;</em></span> "
</span></dt><dd>
    Specify a space-separated list of kernel modules to exclusively include in
    the initramfs. The kernel modules have to be specified without the ".ko"
    suffix.
</dd><dt><span class="term">
<span class="strong"><strong>add_drivers+=</strong></span>" <span class="emphasis"><em>&lt;kernel modules&gt;</em></span> "
</span></dt><dd>
    Specify a space-separated list of kernel modules to add to the initramfs.
    The kernel modules have to be specified without the ".ko" suffix.
</dd><dt><span class="term">
<span class="strong"><strong>omit_drivers+=</strong></span>" <span class="emphasis"><em>&lt;kernel modules&gt;</em></span> "
</span></dt><dd>
    Specify a space-separated list of kernel modules not to add to the
    initramfs. The kernel modules have to be specified without the ".ko" suffix.
</dd><dt><span class="term">
<span class="strong"><strong>install_items+=</strong></span>" <span class="emphasis"><em>&lt;kernel modules&gt;</em></span> "
</span></dt><dd>
    Specify a space-separated list of files, which are added to the initramfs
    image.
</dd><dt><span class="term">
<span class="strong"><strong>filesystems+=</strong></span>" <span class="emphasis"><em>&lt;filesystem names&gt;</em></span> "
</span></dt><dd>
    Specify a space-separated list of kernel filesystem modules to exclusively
    include in the generic initramfs.
</dd><dt><span class="term">
<span class="strong"><strong>drivers_dir=</strong></span>"<span class="emphasis"><em>&lt;kernel modules directory&gt;</em></span>"
</span></dt><dd>
    Specify the directory, where to look for kernel modules
</dd><dt><span class="term">
<span class="strong"><strong>fw_dir+=</strong></span>" :<span class="emphasis"><em>&lt;dir&gt;</em></span>[:<span class="emphasis"><em>&lt;dir&gt;</em></span> …] "
</span></dt><dd>
    Specify additional directories, where to look for firmwares, separated by :
</dd><dt><span class="term">
<span class="strong"><strong>install_items+=</strong></span>" <span class="emphasis"><em>&lt;file&gt;</em></span>[ <span class="emphasis"><em>&lt;file&gt;</em></span> …] "
</span></dt><dd>
    Specify additional files to include in the initramfs, separated by spaces.
</dd><dt><span class="term">
<span class="strong"><strong>do_strip=</strong></span>"<span class="emphasis"><em>{yes|no}</em></span>"
</span></dt><dd>
    Strip binaries in the initramfs (default=yes)
</dd><dt><span class="term">
<span class="strong"><strong>hostonly=</strong></span>"<span class="emphasis"><em>{yes|no}</em></span>"
</span></dt><dd>
    Host-Only mode: Install only what is needed for booting the local host
    instead of a generic host and generate host-specific configuration.
</dd><dt><span class="term">
<span class="strong"><strong>tmpdir=</strong></span>"<span class="emphasis"><em>&lt;temporary directory&gt;</em></span>"
</span></dt><dd>
    Specify temporary directory to use.
</dd></dl></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>If chrooted to another root other than the real root device, use --fstab and provide a valid <span class="emphasis"><em>/etc/fstab</em></span>.</p></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>use_fstab=</strong></span>"<span class="emphasis"><em>{yes|no}</em></span>"
</span></dt><dd>
    Use <span class="emphasis"><em>/etc/fstab</em></span> instead of <span class="emphasis"><em>/proc/self/mountinfo</em></span>.
</dd><dt><span class="term">
<span class="strong"><strong>add_fstab+=</strong></span>" <span class="emphasis"><em>&lt;filename&gt;</em></span> "
</span></dt><dd>
    Add entries of <span class="emphasis"><em>&lt;filename&gt;</em></span> to the initramfs /etc/fstab.
</dd><dt><span class="term">
<span class="strong"><strong>mdadmconf=</strong></span>"<span class="emphasis"><em>{yes|no}</em></span>"
</span></dt><dd>
    Include local <span class="emphasis"><em>/etc/mdadm.conf</em></span> (default=yes)
</dd><dt><span class="term">
<span class="strong"><strong>lvmconf=</strong></span>"<span class="emphasis"><em>{yes|no}</em></span>"
</span></dt><dd>
    Include local <span class="emphasis"><em>/etc/lvm/lvm.conf</em></span> (default=yes)
</dd><dt><span class="term">
<span class="strong"><strong>fscks=</strong></span>" <span class="emphasis"><em>&lt;fsck tools&gt;</em></span> "
</span></dt><dd>
    Add a space-separated list of fsck tools. If nothing is specified, the
    default is: "umount mount /sbin/fsck* xfs_db xfs_check xfs_repair e2fsck
    jfs_fsck reiserfsck btrfsck". The installation is opportunistic
    (non-existing tools are ignored).
</dd><dt><span class="term">
<span class="strong"><strong>nofscks=</strong></span>"<span class="emphasis"><em>{yes|no}</em></span>"
</span></dt><dd>
    If specified, inhibit installation of any fsck tools.
</dd><dt><span class="term">
<span class="strong"><strong>kernel_only=</strong></span>"<span class="emphasis"><em>{yes|no}</em></span>"
</span></dt><dd>
    Only install kernel drivers and firmware files. (default=no)
</dd><dt><span class="term">
<span class="strong"><strong>no_kernel=</strong></span>"{yes|no}"
</span></dt><dd>
    Do not install kernel drivers and firmware files (default=no)
</dd><dt><span class="term">
<span class="strong"><strong>stdloglvl</strong></span>="<span class="emphasis"><em>{0-6}</em></span>"
</span></dt><dd>
    Set logging to standard error level.
</dd><dt><span class="term">
<span class="strong"><strong>sysloglvl</strong></span>="<span class="emphasis"><em>{0-6}</em></span>"
</span></dt><dd>
    Set logging to syslog level.
</dd><dt><span class="term">
<span class="strong"><strong>fileloglvl=</strong></span>"<span class="emphasis"><em>{0-6}</em></span>"
</span></dt><dd>
    Set logging to file level.
</dd><dt><span class="term">
<span class="strong"><strong>logfile=</strong></span>"<span class="emphasis"><em>&lt;file&gt;</em></span>"
</span></dt><dd>
    Path to log file.
</dd><dt><span class="term">
<span class="strong"><strong>show_modules=</strong></span>"<span class="emphasis"><em>{yes|no}</em></span>"
</span></dt><dd>
    Print included module’s name to standard output during build.
</dd></dl></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_files_2"></a>Chapter 24. Files</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="emphasis"><em>/etc/dracut.conf</em></span>
</span></dt><dd>
    Old configuration file. You better use your own file in
    <span class="emphasis"><em>/etc/dracut/conf.d/</em></span>.
</dd><dt><span class="term">
<span class="emphasis"><em>/etc/dracut/conf.d/</em></span>
</span></dt><dd>
    Any <span class="emphasis"><em>/etc/dracut/conf.d/*.conf</em></span> file can overwrite the values in
    <span class="emphasis"><em>/etc/dracut.conf</em></span>. The configuration files are read in alphanumerical
    order.
</dd></dl></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_author"></a>Chapter 25. AUTHOR</h2></div></div></div><p>Harald Hoyer</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_see_also_2"></a>Chapter 26. See Also</h2></div></div></div><p><span class="strong"><strong>dracut</strong></span>(8) <span class="strong"><strong>dracut.cmdline</strong></span>(7)</p></div></div><div class="part"><div class="titlepage"><div><div><h1 class="title"><a id="dracutcmdline7"></a>Part VI. DRACUT.CMDLINE(7)</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="chapter"><a href="#_name_3">27. NAME</a></span></dt><dt><span class="chapter"><a href="#_description_3">28. DESCRIPTION</a></span></dt><dd><dl><dt><span class="section"><a href="#_standard">Standard</a></span></dt><dt><span class="section"><a href="#_misc">Misc</a></span></dt><dt><span class="section"><a href="#dracutkerneldebug">Debug</a></span></dt><dt><span class="section"><a href="#_i18n">I18N</a></span></dt><dt><span class="section"><a href="#_lvm">LVM</a></span></dt><dt><span class="section"><a href="#_crypto_luks">crypto LUKS</a></span></dt><dt><span class="section"><a href="#_crypto_luks_key_on_removable_device_support">crypto LUKS - key on removable device support</a></span></dt><dt><span class="section"><a href="#_md_raid">MD RAID</a></span></dt><dt><span class="section"><a href="#_dm_raid">DM RAID</a></span></dt><dt><span class="section"><a href="#_fips">FIPS</a></span></dt><dt><span class="section"><a href="#_network">Network</a></span></dt><dt><span class="section"><a href="#_nfs">NFS</a></span></dt><dt><span class="section"><a href="#_iscsi">iSCSI</a></span></dt><dt><span class="section"><a href="#_fcoe">FCoE</a></span></dt><dt><span class="section"><a href="#_nbd">NBD</a></span></dt><dt><span class="section"><a href="#_dasd">DASD</a></span></dt><dt><span class="section"><a href="#_zfcp">ZFCP</a></span></dt><dt><span class="section"><a href="#_znet">ZNET</a></span></dt><dt><span class="section"><a href="#_plymouth_boot_splash">Plymouth Boot Splash</a></span></dt><dt><span class="section"><a href="#_kernel_keys">Kernel keys</a></span></dt><dt><span class="section"><a href="#_deprecated_renamed_options">Deprecated, renamed Options</a></span></dt><dt><span class="section"><a href="#_configuration_in_the_initramfs_2">Configuration in the Initramfs</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_author_2">29. AUTHOR</a></span></dt><dt><span class="chapter"><a href="#_see_also_3">30. SEE ALSO</a></span></dt><dt><span class="appendix"><a href="#_license">A. License</a></span></dt></dl></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_name_3"></a>Chapter 27. NAME</h2></div></div></div><p>dracut.cmdline - dracut kernel command line options</p></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_description_3"></a>Chapter 28. DESCRIPTION</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_standard">Standard</a></span></dt><dt><span class="section"><a href="#_misc">Misc</a></span></dt><dt><span class="section"><a href="#dracutkerneldebug">Debug</a></span></dt><dt><span class="section"><a href="#_i18n">I18N</a></span></dt><dt><span class="section"><a href="#_lvm">LVM</a></span></dt><dt><span class="section"><a href="#_crypto_luks">crypto LUKS</a></span></dt><dt><span class="section"><a href="#_crypto_luks_key_on_removable_device_support">crypto LUKS - key on removable device support</a></span></dt><dt><span class="section"><a href="#_md_raid">MD RAID</a></span></dt><dt><span class="section"><a href="#_dm_raid">DM RAID</a></span></dt><dt><span class="section"><a href="#_fips">FIPS</a></span></dt><dt><span class="section"><a href="#_network">Network</a></span></dt><dt><span class="section"><a href="#_nfs">NFS</a></span></dt><dt><span class="section"><a href="#_iscsi">iSCSI</a></span></dt><dt><span class="section"><a href="#_fcoe">FCoE</a></span></dt><dt><span class="section"><a href="#_nbd">NBD</a></span></dt><dt><span class="section"><a href="#_dasd">DASD</a></span></dt><dt><span class="section"><a href="#_zfcp">ZFCP</a></span></dt><dt><span class="section"><a href="#_znet">ZNET</a></span></dt><dt><span class="section"><a href="#_plymouth_boot_splash">Plymouth Boot Splash</a></span></dt><dt><span class="section"><a href="#_kernel_keys">Kernel keys</a></span></dt><dt><span class="section"><a href="#_deprecated_renamed_options">Deprecated, renamed Options</a></span></dt><dt><span class="section"><a href="#_configuration_in_the_initramfs_2">Configuration in the Initramfs</a></span></dt></dl></div><p>The root device used by the kernel is specified in the boot configuration
file on the kernel command line, as always.</p><p>The traditional <span class="emphasis"><em>root=/dev/sda1</em></span> style device specification is allowed, but not
encouraged. The root device should better be identified by LABEL or UUID. If a
label is used, as in <span class="emphasis"><em>root=LABEL=&lt;label_of_root&gt;</em></span> the initramfs will search all
available devices for a filesystem with the appropriate label, and mount that
device as the root filesystem. <span class="emphasis"><em>root=UUID=&lt;uuidnumber&gt;</em></span> will mount the partition
with that UUID as the root filesystem.</p><p>In the following all kernel command line parameters, which are processed by
dracut, are described.</p><p>"rd.*" parameters mentioned without "=" are boolean parameters. They can be
turned on/off by setting them to {0|1}. If the assignment with "=" is missing
"=1" is implied. For example <span class="emphasis"><em>rd.info</em></span> can be turned off with <span class="emphasis"><em>rd.info=0</em></span> or
turned on with <span class="emphasis"><em>rd.info=1</em></span> or <span class="emphasis"><em>rd.info</em></span>. The last value in the kernel command
line is the value, which is honored.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_standard"></a>Standard</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>init=</strong></span><span class="emphasis"><em>&lt;path to real init&gt;</em></span>
</span></dt><dd>
    specify the path to the init programm to be started after the initramfs has
    finished
</dd><dt><span class="term">
<span class="strong"><strong>root=</strong></span><span class="emphasis"><em>&lt;path to blockdevice&gt;</em></span>
</span></dt><dd><p class="simpara">
    specify the block device to use as the root filesystem.
</p><p class="simpara">E.g.:</p><pre class="screen">root=/dev/sda1
root=/dev/disk/by-path/pci-0000:00:1f.1-scsi-0:0:1:0-part1
root=/dev/disk/by-label/Root
root=LABEL=Root
root=/dev/disk/by-uuid/3f5ad593-4546-4a94-a374-bcfb68aa11f7
root=UUID=3f5ad593-4546-4a94-a374-bcfb68aa11f7
root=PARTUUID=3f5ad593-4546-4a94-a374-bcfb68aa11f7</pre></dd><dt><span class="term">
<span class="strong"><strong>rootfstype=</strong></span><span class="emphasis"><em>&lt;filesystem type&gt;</em></span>
</span></dt><dd><p class="simpara">
"auto" if not specified, e.g.:
</p><pre class="screen">rootfstype=ext3</pre></dd><dt><span class="term">
<span class="strong"><strong>rootflags=</strong></span><span class="emphasis"><em>&lt;mount options&gt;</em></span>
</span></dt><dd>
    specify additional mount options for the root filesystem. If not set,
    <span class="emphasis"><em>/etc/fstab</em></span> of the real root will be parsed for special mount options and
    mounted accordingly.
</dd><dt><span class="term">
<span class="strong"><strong>rd.fstab=0</strong></span>
</span></dt><dd>
    do not honor special mount options for the root filesystem found in
    <span class="emphasis"><em>/etc/fstab</em></span> of the real root.
</dd></dl></div><p><span class="strong"><strong>resume=</strong></span><span class="emphasis"><em>&lt;path to resume partition&gt;</em></span></p><p>+
E.g.:</p><p>+</p><pre class="screen">resume=/dev/disk/by-path/pci-0000:00:1f.1-scsi-0:0:1:0-part1
resume=/dev/disk/by-uuid/3f5ad593-4546-4a94-a374-bcfb68aa11f7
resume=UUID=3f5ad593-4546-4a94-a374-bcfb68aa11f7</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_misc"></a>Misc</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.driver.blacklist=</strong></span><span class="emphasis"><em>&lt;drivername&gt;[,&lt;drivername&gt;,…]</em></span>
</span></dt><dd>
    do not load kernel module &lt;drivername&gt;. This parameter can be specified
    multiple times.
</dd><dt><span class="term">
<span class="strong"><strong>rd.driver.pre=</strong></span><span class="emphasis"><em>&lt;drivername&gt;[,&lt;drivername&gt;,…]</em></span>
</span></dt><dd>
    force loading kernel module &lt;drivername&gt;. This parameter can be specified
    multiple times.
</dd><dt><span class="term">
<span class="strong"><strong>rd.driver.post=</strong></span><span class="emphasis"><em>&lt;drivername&gt;[,&lt;drivername&gt;,…]</em></span>
</span></dt><dd>
    force loading kernel module &lt;drivername&gt; after all automatic loading modules
    have been loaded. This parameter can be specified multiple times.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="dracutkerneldebug"></a>Debug</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.info</strong></span>
</span></dt><dd>
    print informational output though "quiet" is set
</dd><dt><span class="term">
<span class="strong"><strong>rd.shell</strong></span>
</span></dt><dd>
    allow dropping to a shell, if root mounting fails
</dd><dt><span class="term">
<span class="strong"><strong>rd.debug</strong></span>
</span></dt><dd>
    set -x for the dracut shell and logs to dmesg, console and
    <span class="emphasis"><em>/run/initramfs/init.log</em></span>
</dd><dt><span class="term">
<span class="strong"><strong>rd.break</strong></span>
</span></dt><dd>
    drop to a shell at the end
</dd><dt><span class="term">
<span class="strong"><strong>rd.break=</strong></span><span class="emphasis"><em>{cmdline|pre-udev|pre-trigger|initqueue|pre-mount|mount|pre-pivot|cleanup}</em></span>
</span></dt><dd>
    drop to a shell on defined breakpoint
</dd><dt><span class="term">
<span class="strong"><strong>rd.udev.info</strong></span>
</span></dt><dd>
    set udev to loglevel info
</dd><dt><span class="term">
<span class="strong"><strong>rd.udev.debug</strong></span>
</span></dt><dd>
    set udev to loglevel debug
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_i18n"></a>I18N</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>vconsole.keymap=</strong></span><span class="emphasis"><em>&lt;keymap base file name&gt;</em></span>
</span></dt><dd><p class="simpara">
    keyboard translation table loaded by loadkeys; taken from keymaps directory;
    will be written as KEYMAP to <span class="emphasis"><em>/etc/vconsole.conf</em></span> in the initramfs, e.g.:
</p><pre class="screen">vconsole.keymap=de-latin1-nodeadkeys</pre></dd><dt><span class="term">
<span class="strong"><strong>vconsole.keymap.ext=</strong></span><span class="emphasis"><em>&lt;list of keymap base file names&gt;</em></span>
</span></dt><dd>
    list of extra keymaps to bo loaded (sep. by space); will be written as
    EXT_KEYMAP to <span class="emphasis"><em>/etc/vconsole.conf</em></span> in the initramfs
</dd><dt><span class="term">
<span class="strong"><strong>vconsole.unicode</strong></span>[=<span class="emphasis"><em>{0|1}</em></span>]
</span></dt><dd>
    boolean, indicating UTF-8 mode; will be written as UNICODE to
    <span class="emphasis"><em>/etc/vconsole.conf</em></span> in the initramfs
</dd><dt><span class="term">
<span class="strong"><strong>vconsole.font=</strong></span><span class="emphasis"><em>&lt;font base file name&gt;</em></span>
</span></dt><dd><p class="simpara">
    console font; taken from consolefonts directory; will be written as FONT to
    <span class="emphasis"><em>/etc/vconsole.conf</em></span> in the initramfs; e.g.:
</p><pre class="screen">vconsole.font=LatArCyrHeb-16</pre></dd><dt><span class="term">
<span class="strong"><strong>vconsole.font.map=</strong></span><span class="emphasis"><em>&lt;console map base file name&gt;</em></span>
</span></dt><dd>
    see description of <span class="emphasis"><em>-m</em></span> parameter in setfont manual; taken from consoletrans
    directory; will be written as FONT_MAP to <span class="emphasis"><em>/etc/vconsole.conf</em></span> in the
    initramfs
</dd><dt><span class="term">
<span class="strong"><strong>vconsole.font.unimap=</strong></span><span class="emphasis"><em>&lt;unicode table base file name&gt;</em></span>
</span></dt><dd>
    see description of <span class="emphasis"><em>-u</em></span> parameter in setfont manual; taken from unimaps
    directory; will be written as FONT_UNIMAP to <span class="emphasis"><em>/etc/vconsole.conf</em></span> in the
    initramfs
</dd><dt><span class="term">
<span class="strong"><strong>locale.LANG=</strong></span><span class="emphasis"><em>&lt;locale&gt;</em></span>
</span></dt><dd><p class="simpara">
    taken from the environment; if no UNICODE is defined we set its value in
    basis of LANG value (whether it ends with ".utf8" (or similar) or not); will
    be written as LANG to <span class="emphasis"><em>/etc/locale.conf</em></span> in the initramfs; e.g.:
</p><pre class="screen">locale.LANG=pl_PL.utf8</pre></dd><dt><span class="term">
<span class="strong"><strong>locale.LC_ALL=</strong></span><span class="emphasis"><em>&lt;locale&gt;</em></span>
</span></dt><dd>
    taken from the environment; will be written as LC_ALL to <span class="emphasis"><em>/etc/locale.conf</em></span>
    in the initramfs
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_lvm"></a>LVM</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.lvm=0</strong></span>
</span></dt><dd>
    disable LVM detection
</dd><dt><span class="term">
<span class="strong"><strong>rd.lvm.vg=</strong></span><span class="emphasis"><em>&lt;volume group name&gt;</em></span>
</span></dt><dd>
    only activate the volume groups with the given name. rd.lvm.vg can be
    specified multiple times on the kernel command line.
</dd><dt><span class="term">
<span class="strong"><strong>rd.lvm.lv=</strong></span><span class="emphasis"><em>&lt;logical volume name&gt;</em></span>
</span></dt><dd>
    only activate the logical volumes with the given name. rd.lvm.lv can be
    specified multiple times on the kernel command line.
</dd><dt><span class="term">
<span class="strong"><strong>rd.lvm.conf=0</strong></span>
</span></dt><dd>
    remove any <span class="emphasis"><em>/etc/lvm/lvm.conf</em></span>, which may exist in the initramfs
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_crypto_luks"></a>crypto LUKS</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.luks=0</strong></span>
</span></dt><dd>
    disable crypto LUKS detection
</dd><dt><span class="term">
<span class="strong"><strong>rd.luks.uuid=</strong></span><span class="emphasis"><em>&lt;luks uuid&gt;</em></span>
</span></dt><dd>
    only activate the LUKS partitions with the given UUID. Any "luks-" of the
    LUKS UUID is removed before comparing to <span class="emphasis"><em>&lt;luks uuid&gt;</em></span>.
    The comparisons also matches, if <span class="emphasis"><em>&lt;luks uuid&gt;</em></span> is only the beginning of the
    LUKS UUID, so you don’t have to specify the full UUID.
    This parameter can be specified multiple times.
</dd><dt><span class="term">
<span class="strong"><strong>rd.luks.allow-discards=</strong></span><span class="emphasis"><em>&lt;luks uuid&gt;</em></span>
</span></dt><dd>
    Allow  using  of discards (TRIM) requests for LUKS partitions with the given UUID.
    Any "luks-" of the LUKS UUID is removed before comparing to <span class="emphasis"><em>&lt;luks uuid&gt;</em></span>.
    The comparisons also matches, if <span class="emphasis"><em>&lt;luks uuid&gt;</em></span> is only the beginning of the
    LUKS UUID, so you don’t have to specify the full UUID.
    This parameter can be specified multiple times.
</dd><dt><span class="term">
**rd.luks.allow-discards
</span></dt><dd>
    Allow  using  of discards (TRIM) requests on all LUKS partitions.
</dd><dt><span class="term">
<span class="strong"><strong>rd.luks.crypttab=0</strong></span>
</span></dt><dd>
    do not check, if LUKS partition is in <span class="emphasis"><em>/etc/crypttab</em></span>
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_crypto_luks_key_on_removable_device_support"></a>crypto LUKS - key on removable device support</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.luks.key=</strong></span><span class="emphasis"><em>&lt;keypath&gt;:&lt;keydev&gt;:&lt;luksdev&gt;</em></span>
</span></dt><dd><p class="simpara">
    <span class="emphasis"><em>keypath</em></span> is a path to key file to look for. It’s REQUIRED. When <span class="emphasis"><em>keypath</em></span> ends with <span class="emphasis"><em>.gpg</em></span> it’s considered to be key encrypted symmetrically with GPG. You will be prompted for password on boot. GPG support comes with <span class="emphasis"><em>crypt-gpg</em></span> module which needs to be added explicitly.
</p><p class="simpara"><span class="emphasis"><em>keydev</em></span> is a device on which key file resides. It might be kernel name of devices (should start with "/dev/"), UUID (prefixed with "UUID=") or label (prefix with "LABEL="). You don’t have to specify full UUID. Just its beginning will suffice, even if its ambiguous. All matching devices will be probed. This parameter is recommended, but not required. If not present, all block devices will be probed, which may significantly increase boot time.</p><p class="simpara">If <span class="emphasis"><em>luksdev</em></span> is given, the specified key will only be applied for that LUKS device. Possible values are the same as for <span class="emphasis"><em>keydev</em></span>. Unless you have several LUKS devices, you don’t have to specify this parameter. The simplest usage is:</p><pre class="screen">rd.luks.key=/foo/bar.key</pre><p class="simpara">As you see, you can skip colons in such a case.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_md_raid"></a>MD RAID</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.md=0</strong></span>
</span></dt><dd>
    disable MD RAID detection
</dd><dt><span class="term">
<span class="strong"><strong>rd.md.imsm=0</strong></span>
</span></dt><dd>
    disable MD RAID for imsm/isw raids, use DM RAID instead
</dd><dt><span class="term">
<span class="strong"><strong>rd.md.ddf=0</strong></span>
</span></dt><dd>
    disable MD RAID for SNIA ddf raids, use DM RAID instead
</dd><dt><span class="term">
<span class="strong"><strong>rd.md.conf=0</strong></span>
</span></dt><dd>
    ignore mdadm.conf included in initramfs
</dd><dt><span class="term">
<span class="strong"><strong>rd.md.waitclean=1</strong></span>
</span></dt><dd>
    wait for any resync, recovery, or reshape activity to finish before continuing
</dd><dt><span class="term">
<span class="strong"><strong>rd.md.uuid=</strong></span><span class="emphasis"><em>&lt;md raid uuid&gt;</em></span>
</span></dt><dd>
    only activate the raid sets with the given UUID. This parameter can be
    specified multiple times.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_dm_raid"></a>DM RAID</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.dm=0</strong></span>
</span></dt><dd>
    disable DM RAID detection
</dd><dt><span class="term">
<span class="strong"><strong>rd.dm.uuid=</strong></span><span class="emphasis"><em>&lt;dm raid uuid&gt;</em></span>
</span></dt><dd>
   only activate the raid sets with the given UUID. This parameter can be
   specified multiple times.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_fips"></a>FIPS</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.fips</strong></span>
</span></dt><dd>
    enable FIPS
</dd><dt><span class="term">
<span class="strong"><strong>boot=</strong></span><span class="emphasis"><em>&lt;boot device&gt;</em></span>
</span></dt><dd><p class="simpara">
    specify the device, where /boot is located. e.g.
</p><pre class="screen">boot=/dev/sda1
boot=/dev/disk/by-path/pci-0000:00:1f.1-scsi-0:0:1:0-part1
boot=UUID=&lt;uuid&gt;
boot=LABEL=&lt;label&gt;</pre></dd><dt><span class="term">
<span class="strong"><strong>rd.fips.skipkernel</strong></span>
</span></dt><dd>
    skip checksum check of the kernel image. Useful, if the kernel image is not
    in a separate boot partition.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_network"></a>Network</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>ip=</strong></span><span class="emphasis"><em>{dhcp|on|any|dhcp6|auto6|ibft}</em></span>
</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term">
dhcp|on|any
</span></dt><dd>
get ip from dhcp server from all interfaces. If root=dhcp, loop
    sequentially through all interfaces (eth0, eth1, …) and use the first with
    a valid DHCP root-path.
</dd><dt><span class="term">
auto6
</span></dt><dd>
IPv6 autoconfiguration
</dd><dt><span class="term">
dhcp6
</span></dt><dd>
IPv6 DHCP
</dd><dt><span class="term">
ibft
</span></dt><dd>
iBFT autoconfiguration
</dd></dl></div></dd><dt><span class="term">
<span class="strong"><strong>ip=</strong></span><span class="emphasis"><em>&lt;interface&gt;</em></span>:<span class="emphasis"><em>{dhcp|on|any|dhcp6|auto6}</em></span>[:[<span class="emphasis"><em>&lt;mtu&gt;</em></span>][:<span class="emphasis"><em>&lt;macaddr&gt;</em></span>]]
</span></dt><dd><p class="simpara">
    This parameter can be specified multiple times.
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
dhcp|on|any|dhcp6
</span></dt><dd>
get ip from dhcp server on a specific interface
</dd><dt><span class="term">
auto6
</span></dt><dd>
do IPv6 autoconfiguration
</dd><dt><span class="term">
&lt;macaddr&gt;
</span></dt><dd>
optionally set &lt;macaddr&gt; on the &lt;interface&gt;
</dd></dl></div></dd><dt><span class="term">
<span class="strong"><strong>ip=</strong></span><span class="emphasis"><em>&lt;client-IP&gt;</em></span>:<span class="emphasis"><em>&lt;server-IP&gt;</em></span>:<span class="emphasis"><em>&lt;gateway-IP&gt;</em></span>:<span class="emphasis"><em>&lt;netmask&gt;</em></span>:<span class="emphasis"><em>&lt;client_hostname&gt;</em></span>:<span class="emphasis"><em>&lt;interface&gt;</em></span>:<span class="emphasis"><em>{none|off|dhcp|on|any|dhcp6|auto6|ibft}</em></span>[:[<span class="emphasis"><em>&lt;mtu&gt;</em></span>][:<span class="emphasis"><em>&lt;macaddr&gt;</em></span>]]
</span></dt><dd><p class="simpara">
    explicit network configuration. If you want do define a IPv6 address, put it
    in brackets (e.g. [2001:DB8::1]). This parameter can be specified multiple
    times.
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
&lt;macaddr&gt;
</span></dt><dd>
optionally set &lt;macaddr&gt; on the &lt;interface&gt;
</dd></dl></div></dd><dt><span class="term">
<span class="strong"><strong>ifname=</strong></span><span class="emphasis"><em>&lt;interface&gt;</em></span>:<span class="emphasis"><em>&lt;MAC&gt;</em></span>
</span></dt><dd>
    Assign network device name &lt;interface&gt; (ie eth0) to the NIC with MAC &lt;MAC&gt;.
    Note: If you use this option you <span class="emphasis"><em>must</em></span> specify an ifname= argument for all
    interfaces used in ip= or fcoe= arguments. However, if the interface in
    ip= or fcoe= is a bridge, bonding or vlan interface, you should specify
    an ifname= for <span class="emphasis"><em>each</em></span> of its underlying interfaces. This parameter can be
    specified multiple times.
</dd><dt><span class="term">
<span class="strong"><strong>bootdev=</strong></span><span class="emphasis"><em>&lt;interface&gt;</em></span>
</span></dt><dd>
    specify network interface to use routing and netroot information from.
    Required if multiple ip= lines are used.
</dd><dt><span class="term">
<span class="strong"><strong>nameserver=</strong></span><span class="emphasis"><em>&lt;IP&gt;</em></span> [<span class="strong"><strong>nameserver=</strong></span><span class="emphasis"><em>&lt;IP&gt;</em></span> …]
</span></dt><dd>
    specify nameserver(s) to use
</dd><dt><span class="term">
<span class="strong"><strong>biosdevname=0</strong></span>
</span></dt><dd>
    boolean, turn off biosdevname network interface renaming
</dd><dt><span class="term">
<span class="strong"><strong>vlan=<span class="emphasis"><em>&lt;vlanname&gt;</em></span>:<span class="emphasis"><em>&lt;phydevice&gt;</em></span></strong></span>
</span></dt><dd>
    Setup vlan device named &lt;vlanname&gt; on &lt;phydeivce&gt;.
    We support the four styles of vlan names: VLAN_PLUS_VID (vlan0005), VLAN_PLUS_VID_NO_PAD (vlan5),
    DEV_PLUS_VID (eth0.0005), DEV_PLUS_VID_NO_PAD (eth0.5)
</dd><dt><span class="term">
<span class="strong"><strong>bond=<span class="emphasis"><em>&lt;bondname&gt;</em></span>[:<span class="emphasis"><em>&lt;bondslaves&gt;</em></span>:[:<span class="emphasis"><em>&lt;options&gt;</em></span>]]</strong></span>
</span></dt><dd>
    Setup bonding device &lt;bondname&gt; on top of &lt;bondslaves&gt;.
    &lt;bondslaves&gt; is a comma-separated list of physical (ethernet) interfaces.
    &lt;options&gt; is a comma-separated list on bonding options (modinfo bonding for details)
    in format compatible with initscripts. If &lt;options&gt; includes multi-valued arp_ip_target option,
    then its values should be separated by semicolon.
    Bond without parameters assumes bond=bond0:eth0,eth1:mode=balance-rr
</dd><dt><span class="term">
<span class="strong"><strong>bridge=<span class="emphasis"><em>&lt;bridgename&gt;</em></span>:<span class="emphasis"><em>&lt;ethnames&gt;</em></span></strong></span>
</span></dt><dd>
    Setup bridge &lt;bridgename&gt; with &lt;ethnames&gt;. &lt;ethnames&gt; is a comma-separated
    list of physical (ethernet) interfaces. Bridge without parameters assumes bridge=br0:eth0
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_nfs"></a>NFS</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>root=</strong></span><span class="emphasis"><em>&lt;root-dir&gt;</em></span>[:<span class="emphasis"><em>&lt;nfs-options&gt;</em></span>]
</span></dt><dd>
    mount nfs share from &lt;server-ip&gt;:/&lt;root-dir&gt;, if no server-ip is given, use
    dhcp next_server. if server-ip is an IPv6 address it has to be put in
    brackets, e.g. [2001:DB8::1]. NFS options can be appended with the prefix
    ":" or "," and are seperated by ",".
</dd><dt><span class="term">
<span class="strong"><strong>root=</strong></span>nfs:<span class="emphasis"><em>&lt;root-dir&gt;</em></span>[:<span class="emphasis"><em>&lt;nfs-options&gt;</em></span>], <span class="strong"><strong>root=</strong></span>nfs4:<span class="emphasis"><em>&lt;root-dir&gt;</em></span>[:<span class="emphasis"><em>&lt;nfs-options&gt;</em></span>], <span class="strong"><strong>root=</strong></span><span class="emphasis"><em>{dhcp|dhcp6}</em></span>
</span></dt><dd><p class="simpara">
    root=dhcp alone directs initrd to look at the DHCP root-path where NFS
    options can be specified.
</p><pre class="screen">    root-path=&lt;server-ip&gt;:&lt;root-dir&gt;[,&lt;nfs-options&gt;]
    root-path=nfs:&lt;server-ip&gt;:&lt;root-dir&gt;[,&lt;nfs-options&gt;]
    root-path=nfs4:&lt;server-ip&gt;:&lt;root-dir&gt;[,&lt;nfs-options&gt;]</pre></dd><dt><span class="term">
<span class="strong"><strong>root=</strong></span><span class="emphasis"><em>/dev/nfs</em></span> nfsroot=<span class="emphasis"><em>&lt;root-dir&gt;</em></span>[:<span class="emphasis"><em>&lt;nfs-options&gt;</em></span>]
</span></dt><dd>
    <span class="emphasis"><em>Deprecated!</em></span> kernel Documentation_/filesystems/nfsroot.txt_ defines this
    method. This is supported by dracut, but not recommended.
</dd><dt><span class="term">
<span class="strong"><strong>rd.nfs.domain=</strong></span><span class="emphasis"><em>&lt;NFSv4 domain name&gt;</em></span>
</span></dt><dd>
    Set the NFSv4 domain name. Will overwrite the settings in <span class="emphasis"><em>/etc/idmap.conf</em></span>.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_iscsi"></a>iSCSI</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>root=</strong></span>iscsi:[<span class="emphasis"><em>&lt;username&gt;</em></span>:<span class="emphasis"><em>&lt;password&gt;</em></span>[:<span class="emphasis"><em>&lt;reverse&gt;</em></span>:<span class="emphasis"><em>&lt;password&gt;</em></span>]@][<span class="emphasis"><em>&lt;servername&gt;</em></span>]:[<span class="emphasis"><em>&lt;protocol&gt;</em></span>]:[<span class="emphasis"><em>&lt;port&gt;</em></span>][:[<span class="emphasis"><em>&lt;iscsi_iface_name&gt;</em></span>]:[<span class="emphasis"><em>&lt;netdev_name&gt;</em></span>]]:[<span class="emphasis"><em>&lt;LUN&gt;</em></span>]:<span class="emphasis"><em>&lt;targetname&gt;</em></span>
</span></dt><dd><p class="simpara">
    protocol defaults to "6", LUN defaults to "0". If the "servername" field is
    provided by BOOTP or DHCP, then that field is used in conjunction with other
    associated fields to contact the boot server in the Boot stage. However, if
    the "servername" field is not provided, then the "targetname" field is then
    used in the Discovery Service stage in conjunction with other associated
    fields. See
    <a class="ulink" href="http://tools.ietf.org/html/rfc4173#section-5" target="_top">rfc4173</a>.
    e.g.:
</p><pre class="screen">root=iscsi:192.168.50.1::::iqn.2009-06.dracut:target0</pre><p class="simpara">If servername is an IPv6 address, it has to be put in brackets. e.g.:</p><pre class="screen">root=iscsi:[2001:DB8::1]::::iqn.2009-06.dracut:target0</pre></dd><dt><span class="term">
<span class="strong"><strong>root=</strong></span><span class="emphasis"><em>???</em></span> <span class="strong"><strong>netroot=</strong></span>iscsi:[<span class="emphasis"><em>&lt;username&gt;</em></span>:<span class="emphasis"><em>&lt;password&gt;</em></span>[:<span class="emphasis"><em>&lt;reverse&gt;</em></span>:<span class="emphasis"><em>&lt;password&gt;</em></span>]@][<span class="emphasis"><em>&lt;servername&gt;</em></span>]:[<span class="emphasis"><em>&lt;protocol&gt;</em></span>]:[<span class="emphasis"><em>&lt;port&gt;</em></span>][:[<span class="emphasis"><em>&lt;iscsi_iface_name&gt;</em></span>]:[<span class="emphasis"><em>&lt;netdev_name&gt;</em></span>]]:[<span class="emphasis"><em>&lt;LUN&gt;</em></span>]:<span class="emphasis"><em>&lt;targetname&gt;</em></span> …
</span></dt><dd><p class="simpara">
    multiple netroot options allow setting up multiple iscsi disks. e.g.:
</p><pre class="screen">root=UUID=12424547
netroot=iscsi:192.168.50.1::::iqn.2009-06.dracut:target0
netroot=iscsi:192.168.50.1::::iqn.2009-06.dracut:target1</pre><p class="simpara">If servername is an IPv6 address, it has to be put in brackets. e.g.:</p><pre class="screen">netroot=iscsi:[2001:DB8::1]::::iqn.2009-06.dracut:target0</pre></dd><dt><span class="term">
<span class="strong"><strong>root=</strong></span><span class="emphasis"><em>???</em></span> <span class="strong"><strong>rd.iscsi.initiator=</strong></span><span class="emphasis"><em>&lt;initiator&gt;</em></span> <span class="strong"><strong>rd.iscsi.target.name=</strong></span><span class="emphasis"><em>&lt;target name&gt;</em></span>  <span class="strong"><strong>rd.iscsi.target.ip=</strong></span><span class="emphasis"><em>&lt;target ip&gt;</em></span> <span class="strong"><strong>rd.iscsi.target.port=</strong></span><span class="emphasis"><em>&lt;target port&gt;</em></span> <span class="strong"><strong>rd.iscsi.target.group=</strong></span><span class="emphasis"><em>&lt;target group&gt;</em></span> <span class="strong"><strong>rd.iscsi.username=</strong></span><span class="emphasis"><em>&lt;username&gt;</em></span> <span class="strong"><strong>rd.iscsi.password=</strong></span><span class="emphasis"><em>&lt;password&gt;</em></span> <span class="strong"><strong>rd.iscsi.in.username=</strong></span><span class="emphasis"><em>&lt;in username&gt;</em></span> <span class="strong"><strong>rd.iscsi.in.password=</strong></span><span class="emphasis"><em>&lt;in password&gt;</em></span>
</span></dt><dd>
    manually specify all iscsistart parameter (see <span class="strong"><strong><code class="literal">iscsistart --help</code></strong></span>)
</dd><dt><span class="term">
<span class="strong"><strong>root=</strong></span><span class="emphasis"><em>???</em></span> <span class="strong"><strong>netroot=</strong></span>iscsi <span class="strong"><strong>rd.iscsi.firmware=1</strong></span>
</span></dt><dd>
 will read the iscsi parameter from the BIOS firmware
</dd><dt><span class="term">
<span class="strong"><strong>rd.iscsi.param=</strong></span><span class="emphasis"><em>&lt;param&gt;</em></span>
</span></dt><dd><p class="simpara">
    &lt;param&gt; will be passed as "--param &lt;param&gt;" to iscsistart.
    This parameter can be specified multiple times.
    e.g.:
</p><pre class="screen">"netroot=iscsi iscsi_firmware rd.iscsi.param=node.session.timeo.replacement_timeout=30"</pre><p class="simpara">will result in</p><pre class="screen">iscsistart -b --param node.session.timeo.replacement_timeout=30</pre></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_fcoe"></a>FCoE</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>fcoe=</strong></span><span class="emphasis"><em>&lt;edd|interface|MAC&gt;</em></span>:<span class="emphasis"><em>{dcb|nodcb}</em></span>
</span></dt><dd>
    Try to connect to a FCoE SAN through the NIC specified by <span class="emphasis"><em>&lt;interface&gt;</em></span> or
    <span class="emphasis"><em>&lt;MAC&gt;</em></span> or EDD settings. For the second argument, currently only nodcb is
    supported. This parameter can be specified multiple times. Note: letters in
    the MAC-address must be lowercase!
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_nbd"></a>NBD</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>root=</strong></span>??? <span class="strong"><strong>netroot=</strong></span>nbd:<span class="emphasis"><em>&lt;server&gt;</em></span>:<span class="emphasis"><em>&lt;port&gt;</em></span>[:<span class="emphasis"><em>&lt;fstype&gt;</em></span>[:<span class="emphasis"><em>&lt;mountopts&gt;</em></span>[:<span class="emphasis"><em>&lt;nbdopts&gt;</em></span>]]]
</span></dt><dd>
    mount nbd share from &lt;server&gt;
</dd><dt><span class="term">
<span class="strong"><strong>root=dhcp</strong></span> with <span class="strong"><strong>dhcp</strong></span> <span class="strong"><strong>root-path=</strong></span>nbd:<span class="emphasis"><em>&lt;server&gt;</em></span>:<span class="emphasis"><em>&lt;port&gt;</em></span>[:<span class="emphasis"><em>&lt;fstype&gt;</em></span>[:<span class="emphasis"><em>&lt;mountopts&gt;</em></span>[:<span class="emphasis"><em>&lt;nbdopts&gt;</em></span>]]]
</span></dt><dd>
    root=dhcp alone directs initrd to look at the DHCP root-path where NBD
    options can be specified. This syntax is only usable in cases where you are
    directly mounting the volume as the rootfs.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_dasd"></a>DASD</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.dasd=</strong></span>….
</span></dt><dd>
    same syntax as the kernel module parameter (s390 only)
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_zfcp"></a>ZFCP</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.zfcp=</strong></span><span class="emphasis"><em>&lt;zfcp adaptor device bus ID&gt;</em></span>,<span class="emphasis"><em>&lt;WWPN&gt;</em></span>,<span class="emphasis"><em>&lt;FCPLUN&gt;</em></span>
</span></dt><dd><p class="simpara">
    rd.zfcp can be specified multiple times on the kernel command line. e.g.:
</p><pre class="screen">rd.zfcp=0.0.4000,0x5005076300C213e9,0x5022000000000000</pre></dd><dt><span class="term">
<span class="strong"><strong>rd.zfcp.conf=0</strong></span>
</span></dt><dd>
    ignore zfcp.conf included in the initramfs
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_znet"></a>ZNET</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>rd.znet=</strong></span><span class="emphasis"><em>&lt;nettype&gt;</em></span>,<span class="emphasis"><em>&lt;subchannels&gt;</em></span>,<span class="emphasis"><em>&lt;options&gt;</em></span>
</span></dt><dd><p class="simpara">
    rd.znet can be specified multiple times on the kernel command line. e.g.:
</p><pre class="screen">rd.znet=qeth,0.0.0600,0.0.0601,0.0.0602,layer2=1,portname=foo
rd.znet=ctc,0.0.0600,0.0.0601,0.0.0602,protocol=bar</pre></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_plymouth_boot_splash"></a>Plymouth Boot Splash</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>plymouth.enable=0</strong></span>
</span></dt><dd>
    disable the plymouth bootsplash completly.
</dd><dt><span class="term">
<span class="strong"><strong>rd.plymouth=0</strong></span>
</span></dt><dd>
    disable the plymouth bootsplash only for the initramfs.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_kernel_keys"></a>Kernel keys</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>masterkey=</strong></span><span class="emphasis"><em>&lt;kernel master key path name&gt;</em></span>
</span></dt><dd><p class="simpara">
    Set the path name of the kernel master key. e.g.:
</p><pre class="screen">masterkey=/etc/keys/kmk-trusted.blob</pre></dd><dt><span class="term">
<span class="strong"><strong>masterkeytype=</strong></span><span class="emphasis"><em>&lt;kernel master key type&gt;</em></span>
</span></dt><dd><p class="simpara">
    Set the type of the kernel master key. e.g.:
</p><pre class="screen">masterkeytype=trusted</pre></dd><dt><span class="term">
<span class="strong"><strong>evmkey=</strong></span><span class="emphasis"><em>&lt;EVM key path name&gt;</em></span>
</span></dt><dd><p class="simpara">
    Set the path name of the EVM key. e.g.:
</p><pre class="screen">evmkey=/etc/keys/evm-trusted.blob</pre></dd><dt><span class="term">
<span class="strong"><strong>ecryptfskey=</strong></span><span class="emphasis"><em>&lt;eCryptfs key path name&gt;</em></span>
</span></dt><dd><p class="simpara">
    Set the path name of the eCryptfs key. e.g.:
</p><pre class="screen">ecryptfskey=/etc/keys/ecryptfs-trusted.blob</pre></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_deprecated_renamed_options"></a>Deprecated, renamed Options</h2></div></div></div><p>Here is a list of options, which were used in dracut prior to version 008, and their new replacement.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
rdbreak
</span></dt><dd>
rd.break
</dd><dt><span class="term">
rd_CCW
</span></dt><dd>
rd.ccw
</dd><dt><span class="term">
rd_DASD_MOD
</span></dt><dd>
rd.dasd
</dd><dt><span class="term">
rd_DASD
</span></dt><dd>
rd.dasd
</dd><dt><span class="term">
rdinitdebug rdnetdebug
</span></dt><dd>
rd.debug
</dd><dt><span class="term">
rd_NO_DM
</span></dt><dd>
rd.dm=0
</dd><dt><span class="term">
rd_DM_UUID
</span></dt><dd>
rd.dm.uuid
</dd><dt><span class="term">
rdblacklist
</span></dt><dd>
rd.driver.blacklist
</dd><dt><span class="term">
rdinsmodpost
</span></dt><dd>
rd.driver.post
</dd><dt><span class="term">
rdloaddriver
</span></dt><dd>
rd.driver.pre
</dd><dt><span class="term">
rd_NO_FSTAB
</span></dt><dd>
rd.fstab=0
</dd><dt><span class="term">
rdinfo
</span></dt><dd>
rd.info
</dd><dt><span class="term">
check
</span></dt><dd>
rd.live.check
</dd><dt><span class="term">
rdlivedebug
</span></dt><dd>
rd.live.debug
</dd><dt><span class="term">
live_dir
</span></dt><dd>
rd.live.dir
</dd><dt><span class="term">
liveimg
</span></dt><dd>
rd.live.image
</dd><dt><span class="term">
overlay
</span></dt><dd>
rd.live.overlay
</dd><dt><span class="term">
readonly_overlay
</span></dt><dd>
rd.live.overlay.readonly
</dd><dt><span class="term">
reset_overlay
</span></dt><dd>
rd.live.overlay.reset
</dd><dt><span class="term">
live_ram
</span></dt><dd>
rd.live.ram
</dd><dt><span class="term">
rd_NO_CRYPTTAB
</span></dt><dd>
rd.luks.crypttab=0
</dd><dt><span class="term">
rd_LUKS_KEYDEV_UUID
</span></dt><dd>
rd.luks.keydev.uuid
</dd><dt><span class="term">
rd_LUKS_KEYPATH
</span></dt><dd>
rd.luks.keypath
</dd><dt><span class="term">
rd_NO_LUKS
</span></dt><dd>
rd.luks=0
</dd><dt><span class="term">
rd_LUKS_UUID
</span></dt><dd>
rd.luks.uuid
</dd><dt><span class="term">
rd_NO_LVMCONF
</span></dt><dd>
rd.lvm.conf
</dd><dt><span class="term">
rd_LVM_LV
</span></dt><dd>
rd.lvm.lv
</dd><dt><span class="term">
rd_NO_LVM
</span></dt><dd>
rd.lvm=0
</dd><dt><span class="term">
rd_LVM_SNAPSHOT
</span></dt><dd>
rd.lvm.snapshot
</dd><dt><span class="term">
rd_LVM_SNAPSIZE
</span></dt><dd>
rd.lvm.snapsize
</dd><dt><span class="term">
rd_LVM_VG
</span></dt><dd>
rd.lvm.vg
</dd><dt><span class="term">
rd_NO_MDADMCONF
</span></dt><dd>
rd.md.conf=0
</dd><dt><span class="term">
rd_NO_MDIMSM
</span></dt><dd>
rd.md.imsm=0
</dd><dt><span class="term">
rd_NO_MD
</span></dt><dd>
rd.md=0
</dd><dt><span class="term">
rd_MD_UUID
</span></dt><dd>
rd.md.uuid
</dd><dt><span class="term">
rd_NFS_DOMAIN
</span></dt><dd>
rd.nfs.domain
</dd><dt><span class="term">
iscsi_initiator
</span></dt><dd>
rd.iscsi.initiator
</dd><dt><span class="term">
iscsi_target_name
</span></dt><dd>
rd.iscsi.target.name
</dd><dt><span class="term">
iscsi_target_ip
</span></dt><dd>
rd.iscsi.target.ip
</dd><dt><span class="term">
iscsi_target_port
</span></dt><dd>
rd.iscsi.target.port
</dd><dt><span class="term">
iscsi_target_group
</span></dt><dd>
rd.iscsi.target.group
</dd><dt><span class="term">
iscsi_username
</span></dt><dd>
rd.iscsi.username
</dd><dt><span class="term">
iscsi_password
</span></dt><dd>
rd.iscsi.password
</dd><dt><span class="term">
iscsi_in_username
</span></dt><dd>
rd.iscsi.in.username
</dd><dt><span class="term">
iscsi_in_password
</span></dt><dd>
rd.iscsi.in.password
</dd><dt><span class="term">
iscsi_firmware
</span></dt><dd>
rd.iscsi.firmware=0
</dd><dt><span class="term">
rd_NO_PLYMOUTH
</span></dt><dd>
rd.plymouth=0
</dd><dt><span class="term">
rd_retry
</span></dt><dd>
rd.retry
</dd><dt><span class="term">
rdshell
</span></dt><dd>
rd.shell
</dd><dt><span class="term">
rd_NO_SPLASH
</span></dt><dd>
rd.splash
</dd><dt><span class="term">
rdudevdebug
</span></dt><dd>
rd.udev.debug
</dd><dt><span class="term">
rdudevinfo
</span></dt><dd>
rd.udev.info
</dd><dt><span class="term">
rd_NO_ZFCPCONF
</span></dt><dd>
rd.zfcp.conf=0
</dd><dt><span class="term">
rd_ZFCP
</span></dt><dd>
rd.zfcp
</dd><dt><span class="term">
rd_ZNET
</span></dt><dd>
rd.znet
</dd><dt><span class="term">
KEYMAP
</span></dt><dd>
vconsole.keymap
</dd><dt><span class="term">
KEYTABLE
</span></dt><dd>
vconsole.keymap
</dd><dt><span class="term">
SYSFONT
</span></dt><dd>
vconsole.font
</dd><dt><span class="term">
CONTRANS
</span></dt><dd>
vconsole.font.map
</dd><dt><span class="term">
UNIMAP
</span></dt><dd>
vconsole.font.unimap
</dd><dt><span class="term">
UNICODE
</span></dt><dd>
vconsole.unicode
</dd><dt><span class="term">
EXT_KEYMAP
</span></dt><dd>
vconsole.keymap.ext
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_configuration_in_the_initramfs_2"></a>Configuration in the Initramfs</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="emphasis"><em>/etc/conf.d/</em></span>
</span></dt><dd>
    Any files found in <span class="emphasis"><em>/etc/conf.d/</em></span> will be sourced in the initramfs to
    set initial values. Command line options will override these values
    set in the configuration files.
</dd><dt><span class="term">
<span class="emphasis"><em>/etc/cmdline</em></span>
</span></dt><dd>
    Can contain additional command line options.
</dd><dt><span class="term">
<span class="emphasis"><em>/etc/cmdline.d/*.conf</em></span>
</span></dt><dd>
    Can contain additional command line options.
</dd></dl></div></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_author_2"></a>Chapter 29. AUTHOR</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>Harald Hoyer</strong></span>
</span></dt><dd>
    Project Leader and Developer
</dd></dl></div></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_see_also_3"></a>Chapter 30. SEE ALSO</h2></div></div></div><p><span class="strong"><strong>dracut</strong></span>(8) <span class="strong"><strong>dracut.conf</strong></span>(5)</p></div><div class="appendix"><div class="titlepage"><div><div><h2 class="title"><a id="_license"></a>Appendix A. License</h2></div></div></div><p>This work is licensed under the Creative Commons Attribution/Share-Alike
License. To view a copy of this license, visit
<a class="ulink" href="http://creativecommons.org/licenses/by-sa/3.0/" target="_top">http://creativecommons.org/licenses/by-sa/3.0/</a> or send a letter to Creative
Commons, 559 Nathan Abbott Way, Stanford, California 94305, USA.</p></div></div></div></body></html>
